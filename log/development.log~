

Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:11:53 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mRental Load (27.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mSQL (5.7ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mBoxOffice Load (12.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (10.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (9.6ms)
  [1m[36mGenre Load (10.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (142.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (439.9ms)
Completed 200 OK in 1070ms (Views: 577.3ms | ActiveRecord: 103.2ms)


Started GET "/films" for 127.0.0.1 at Mon Jun 20 12:12:12 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mFilm Load (11.3ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (113.5ms)
Rendered films/_film.html.haml (7.3ms)
Rendered films/_film.html.haml (7.3ms)
Rendered films/_film.html.haml (7.3ms)
Rendered films/_film.html.haml (7.4ms)
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (10.3ms)
  [1m[35mGenre Load (8.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (59.7ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/index.html.haml within layouts/application (378.5ms)
Completed 200 OK in 531ms (Views: 465.3ms | ActiveRecord: 26.4ms)


Started GET "/films/6" for 127.0.0.1 at Mon Jun 20 12:12:15 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mFilm Load (7.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.5ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (11.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.9ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.1ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (8.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mFilm Load (6.3ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 6)[0m
  [1m[35mBoxOffice Load (9.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
  [1m[36mCountry Load (15.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (7.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (7.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16)[0m
  [1m[35mCountry Load (6.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 194 AND "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (5.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (17)
Rendered people/_person.html.haml (7.3ms)
Rendered people/_person.html.haml (7.0ms)
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (9.9ms)
  [1m[36mGenre Load (8.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.4ms)
Rendered layouts/_footer.haml (2.6ms)
Rendered films/show.html.haml within layouts/application (172.2ms)
Completed 200 OK in 712ms (Views: 216.9ms | ActiveRecord: 129.8ms)


Started GET "/login" for 127.0.0.1 at Mon Jun 20 12:12:22 +0400 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (9.9ms)
  [1m[35mGenre Load (19.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (68.6ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered sessions/new.haml within layouts/application (142.1ms)
Completed 200 OK in 248ms (Views: 227.3ms | ActiveRecord: 19.4ms)


Started POST "/session" for 127.0.0.1 at Mon Jun 20 12:12:31 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[36mUser Load (10.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 82ms


Started GET "/" for 127.0.0.1 at Mon Jun 20 12:12:32 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mUser Load (9.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.4ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (109.0ms)
Rendered films/_film.html.haml (7.2ms)
Rendered films/_film.html.haml (7.3ms)
Rendered films/_film.html.haml (7.6ms)
Rendered films/_film.html.haml (7.2ms)
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (11.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (60.8ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/index.html.haml within layouts/application (314.0ms)
Completed 200 OK in 432ms (Views: 311.5ms | ActiveRecord: 35.6ms)


Started GET "/films/6" for 127.0.0.1 at Mon Jun 20 12:12:34 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (12.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.0ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (8.9ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (8.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mFilm Load (5.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 6)[0m
  [1m[35mBoxOffice Load (10.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
  [1m[36mCountry Load (14.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (7.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (6.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16)[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 194 AND "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (8.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (17)
Rendered people/_person.html.haml (7.6ms)
Rendered people/_person.html.haml (6.7ms)
Rendered layouts/_tray.haml (6.5ms)
Rendered layouts/_menu.haml (10.8ms)
  [1m[36mGenre Load (8.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (110.2ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/show.html.haml within layouts/application (218.9ms)
Completed 200 OK in 721ms (Views: 232.0ms | ActiveRecord: 142.3ms)


Started GET "/films/6/rentals" for 127.0.0.1 at Mon Jun 20 12:12:39 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (14.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (9.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (5.1ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (86.8ms)
  [1m[36mGenre Load (11.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (63.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/rentals.html.haml within layouts/application (496.6ms)
Completed 200 OK in 642ms (Views: 493.7ms | ActiveRecord: 72.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:12:46 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (10.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.2ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.7ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (231.4ms)
Completed 200 OK in 647ms (Views: 238.6ms | ActiveRecord: 85.5ms)


Started GET "/films/6/rentals" for 127.0.0.1 at Mon Jun 20 12:12:55 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (9.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.3ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (4.9ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[35mGenre Load (10.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (60.3ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/rentals.html.haml within layouts/application (387.3ms)
Completed 200 OK in 606ms (Views: 354.6ms | ActiveRecord: 65.0ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:12:58 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mGenre Load (11.4ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)[0m
  [1m[35mCountry Load (11.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (12.1ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 2)[0m
  [1m[35mPerson Load (9.0ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name
  [1m[36mRental Load (9.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (10.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCountry Load (7.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (7.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[35mGenre Load (10.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (304.3ms)
Completed 200 OK in 757ms (Views: 300.6ms | ActiveRecord: 135.5ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:13:47 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mGenre Load (12.2ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)[0m
  [1m[35mCountry Load (11.5ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.2ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 2)[0m
  [1m[35mPerson Load (9.0ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name
  [1m[36mRental Load (10.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (12.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (8.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (7.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCountry Load (9.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCountry Load (6.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (7.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)[0m
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[35mGenre Load (7.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (30.2ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (242.2ms)
Completed 200 OK in 760ms (Views: 195.7ms | ActiveRecord: 140.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:13:52 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (11.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (5.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 343ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619080728_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (19.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (111.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (138.7ms)


Started GET "/films/6/rentals" for 127.0.0.1 at Mon Jun 20 12:14:06 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (8.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (10.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (11.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (7.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6[0m
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (11.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (61.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/rentals.html.haml within layouts/application (403.6ms)
Completed 200 OK in 645ms (Views: 360.5ms | ActiveRecord: 74.3ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:14:33 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mGenre Load (10.0ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)[0m
  [1m[35mCountry Load (10.2ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (12.8ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 2)[0m
  [1m[35mPerson Load (88.9ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name
  [1m[36mRental Load (11.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (10.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCountry Load (6.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCountry Load (5.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)[0m
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (10.7ms)
  [1m[35mGenre Load (8.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (29.6ms)
Rendered layouts/_footer.haml (2.6ms)
Rendered rentals/box_offices.html.haml within layouts/application (224.1ms)
Completed 200 OK in 731ms (Views: 185.2ms | ActiveRecord: 209.3ms)


Started GET "/box_offices/104/edit" for 127.0.0.1 at Mon Jun 20 12:14:37 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"104"}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 104 LIMIT 1
  [1m[36mRental Load (13.3ms)[0m  [1mSELECT "rentals".* FROM "rentals"[0m
  [1m[35mCountry Load (10.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (8.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (8.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (7.1ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (6.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (5.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (5.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 60 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCountry Load (6.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 62 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (5.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (5.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 12 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
Rendered box_offices/_form.html.haml (527.0ms)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (11.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (60.8ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered box_offices/edit.html.haml within layouts/application (687.0ms)
Completed 200 OK in 898ms (Views: 677.5ms | ActiveRecord: 135.1ms)


Started POST "/box_offices/104" for 127.0.0.1 at Mon Jun 20 12:14:43 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "id"=>"104", "box_office"=>{"number_week"=>"19", "sum_all"=>"111", "id_rental"=>"18"}}
  [1m[36mUser Load (7.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 104 LIMIT 1
  [1m[36mBoxOffice Load (7.3ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 18 AND ("box_offices"."number_week" = 19) AND ("box_offices".id <> 104) LIMIT 1[0m
  [1m[35mAREL (22.2ms)[0m  UPDATE "box_offices" SET "updated_at" = '2011-06-20 08:14:44.193379', "number_week" = 19 WHERE "box_offices"."id" = 104
Redirected to http://localhost:3000/box_offices/104
Completed 302 Found in 259ms


Started GET "/box_offices/104" for 127.0.0.1 at Mon Jun 20 12:14:44 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"104"}
  [1m[36mUser Load (8.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 104 LIMIT 1
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (11.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.0ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered box_offices/show.html.haml within layouts/application (138.9ms)
Completed 200 OK in 398ms (Views: 216.9ms | ActiveRecord: 28.9ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:14:46 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (8.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (11.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (12.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (11.2ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.6ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (9.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (10.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (5.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[36mGenre Load (7.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (115.8ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/box_offices.html.haml within layouts/application (308.2ms)
Completed 200 OK in 730ms (Views: 266.0ms | ActiveRecord: 133.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:14:59 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (10.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 382ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620346148_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (20.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (110.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (122.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:15:08 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (12.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (13.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 371ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__618910668_0'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (19.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (112.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (125.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:15:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (9.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.9ms)
Completed   in 348ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620228738_0'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (19.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (202.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (214.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:16:12 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (11.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (10.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (19.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 24 AND "films"."id" IN (1, 6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (14.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[35mGenre Load (11.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (146.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (260.8ms)
Completed 200 OK in 675ms (Views: 271.2ms | ActiveRecord: 121.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:16:33 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (10.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 195ms

ArgumentError (Unknown key(s): film_id):
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (18.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (120.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (133.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:16:53 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (12.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.4ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.4ms)
  [1m[35mGenre Load (10.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.7ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (226.5ms)
Completed 200 OK in 634ms (Views: 229.4ms | ActiveRecord: 114.9ms)


Started GET "/films/6/rentals" for 127.0.0.1 at Mon Jun 20 12:18:08 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (10.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (8.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (6.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[35mGenre Load (10.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (62.8ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/rentals.html.haml within layouts/application (409.3ms)
Completed 200 OK in 630ms (Views: 388.3ms | ActiveRecord: 66.5ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:18:31 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mGenre Load (11.2ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)[0m
  [1m[35mCountry Load (11.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (12.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 2)[0m
  [1m[35mPerson Load (8.9ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name
  [1m[36mRental Load (9.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (10.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (6.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCountry Load (8.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCountry Load (5.7ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)[0m
Rendered layouts/_tray.haml (7.6ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.6ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (304.3ms)
Completed 200 OK in 756ms (Views: 259.1ms | ActiveRecord: 136.3ms)


Started GET "/rentals/6/new_box_office" for 127.0.0.1 at Mon Jun 20 12:18:34 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (15.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mCountry Load (11.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (88.5ms)
  [1m[36mGenre Load (11.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (63.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/new_box_office.html.haml within layouts/application (220.2ms)
Completed 200 OK in 601ms (Views: 260.2ms | ActiveRecord: 68.0ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 12:18:46 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"2", "sum_all"=>"1111", "id_rental"=>"17"}}
  [1m[35mUser Load (8.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (10.5ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 2) LIMIT 1[0m
  [1m[35mAREL (20.0ms)[0m  INSERT INTO "box_offices" ("sum_all", "created_at", "updated_at", "id_rental", "number_week") VALUES (1111, '2011-06-20 08:18:47.077921', '2011-06-20 08:18:47.077921', 17, 2)
Redirected to http://localhost:3000/box_offices/107
Completed 302 Found in 256ms


Started GET "/box_offices/107" for 127.0.0.1 at Mon Jun 20 12:18:47 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"107"}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 107 LIMIT 1
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.5ms)
  [1m[36mGenre Load (45.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (101.1ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/show.html.haml within layouts/application (269.6ms)
Completed 200 OK in 384ms (Views: 247.8ms | ActiveRecord: 61.8ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:18:50 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (8.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.5ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (13.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (11.5ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (10.6ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (8.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (11.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (7.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (7.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (8.0ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (10.9ms)
  [1m[36mGenre Load (8.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (30.8ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (237.2ms)
Completed 200 OK in 763ms (Views: 193.0ms | ActiveRecord: 178.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:18:55 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.1ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (14.4ms)
  [1m[36mGenre Load (11.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (140.8ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (229.0ms)
Completed 200 OK in 608ms (Views: 233.2ms | ActiveRecord: 83.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:19:14 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.2ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.1ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[36mGenre Load (12.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (146.9ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (239.3ms)
Completed 200 OK in 633ms (Views: 243.1ms | ActiveRecord: 84.9ms)


Started GET "/rentals/6/new_box_office" for 127.0.0.1 at Mon Jun 20 12:19:23 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mCountry Load (10.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (10.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (10.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (59.9ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/new_box_office.html.haml within layouts/application (217.1ms)
Completed 200 OK in 583ms (Views: 226.4ms | ActiveRecord: 62.5ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 12:19:31 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "sum_all"=>"1111", "id_rental"=>"17"}}
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.8ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 1) LIMIT 1
  [1m[36mAREL (35.2ms)[0m  [1mINSERT INTO "box_offices" ("created_at", "updated_at", "number_week", "sum_all", "id_rental") VALUES ('2011-06-20 08:19:31.858374', '2011-06-20 08:19:31.858374', 1, 1111, 17)[0m
Redirected to http://localhost:3000/box_offices/108
Completed 302 Found in 165ms


Started GET "/box_offices/108" for 127.0.0.1 at Mon Jun 20 12:19:31 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"108"}
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (8.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 108 LIMIT 1[0m
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[35mGenre Load (10.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.2ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered box_offices/show.html.haml within layouts/application (137.2ms)
Completed 200 OK in 367ms (Views: 149.6ms | ActiveRecord: 26.5ms)


Started GET "/rentals/6/new_box_office" for 127.0.0.1 at Mon Jun 20 12:19:35 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (9.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mCountry Load (10.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (11.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (60.3ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/new_box_office.html.haml within layouts/application (140.8ms)
Completed 200 OK in 475ms (Views: 151.4ms | ActiveRecord: 60.8ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 12:19:43 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"3", "sum_all"=>"1111", "id_rental"=>"17"}}
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (12.1ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 3) LIMIT 1[0m
  [1m[35mAREL (43.7ms)[0m  INSERT INTO "box_offices" ("id_rental", "number_week", "sum_all", "created_at", "updated_at") VALUES (17, 3, 1111, '2011-06-20 08:19:43.826721', '2011-06-20 08:19:43.826721')
Redirected to http://localhost:3000/box_offices/109
Completed 302 Found in 169ms


Started GET "/box_offices/109" for 127.0.0.1 at Mon Jun 20 12:19:43 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"109"}
  [1m[36mUser Load (8.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 109 LIMIT 1
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (10.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (135.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/show.html.haml within layouts/application (207.2ms)
Completed 200 OK in 326ms (Views: 218.3ms | ActiveRecord: 27.5ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:19:48 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (9.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (11.8ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (11.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (12.9ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.6ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (10.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (11.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (8.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[36mGenre Load (8.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (31.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (331.0ms)
Completed 200 OK in 767ms (Views: 285.3ms | ActiveRecord: 257.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:19:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.2ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (10.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (61.3ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (149.0ms)
Completed 200 OK in 638ms (Views: 154.4ms | ActiveRecord: 82.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:20:11 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (10.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[36mGenre Load (10.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.0ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/index.html.haml within layouts/application (148.2ms)
Completed 200 OK in 529ms (Views: 153.7ms | ActiveRecord: 84.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:20:44 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 366ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619557158_0'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (18.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (110.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (123.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:21:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 343ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__618786818_0'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (20.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (114.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (127.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:22:05 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (53.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (65.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (28.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 540ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620045838_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (20.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (202.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (215.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:22:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (24.0ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (7.5ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (12.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (66.9ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/index.html.haml within layouts/application (168.8ms)
Completed 200 OK in 558ms (Views: 169.1ms | ActiveRecord: 98.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:23:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.0ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (10.9ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (140.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (226.7ms)
Completed 200 OK in 644ms (Views: 231.3ms | ActiveRecord: 87.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:24:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (14.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 350ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620253548_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  [1m[36mRental Load (23.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (218.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (230.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:25:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.4ms)
Completed   in 321ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619025158_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (21.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (116.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (128.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:25:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (10.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.1ms)
Completed   in 322ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619800548_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (19.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (195.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:26:35 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (11.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.8ms)
Completed   in 330ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__618707798_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (20.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (119.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (132.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:26:59 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (6.1ms)
Completed   in 317ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619784858_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (19.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (112.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (125.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:27:29 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (27.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (19.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (35.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (57.2ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mSQL (15.5ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (888.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (953.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (1087.7ms)
Completed 200 OK in 1537ms (Views: 210.8ms | ActiveRecord: 1079.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:28:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (12.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.2ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (149.6ms)
Completed 200 OK in 493ms (Views: 152.6ms | ActiveRecord: 67.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:28:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (7.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (6.3ms)
Completed   in 309ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__618724708_0'
  app/controllers/rentals_controller.rb:31:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (20.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (115.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (128.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:29:14 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (6.0ms)
Completed   in 304ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619806968_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[36mRental Load (17.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (110.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (122.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:29:23 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (10.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.5ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.5ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[36mGenre Load (10.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.6ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (166.1ms)
Completed 200 OK in 511ms (Views: 173.0ms | ActiveRecord: 85.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:29:46 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (10.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (14.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (8.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 365ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619083728_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (24.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (119.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (132.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:29:57 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[35mGenre Load (10.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (226.2ms)
Completed 200 OK in 604ms (Views: 229.2ms | ActiveRecord: 109.5ms)


Started GET "/rentals/6/new_box_office" for 127.0.0.1 at Mon Jun 20 12:30:55 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mCountry Load (9.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (11.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.7ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/new_box_office.html.haml within layouts/application (148.5ms)
Completed 200 OK in 498ms (Views: 160.1ms | ActiveRecord: 60.9ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 12:31:03 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"4", "sum_all"=>"1111", "id_rental"=>"17"}}
  [1m[35mUser Load (8.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (10.7ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 4) LIMIT 1[0m
  [1m[35mAREL (34.0ms)[0m  INSERT INTO "box_offices" ("id_rental", "sum_all", "number_week", "created_at", "updated_at") VALUES (17, 1111, 4, '2011-06-20 08:31:03.618034', '2011-06-20 08:31:03.618034')
Redirected to http://localhost:3000/box_offices/110
Completed 302 Found in 159ms


Started GET "/box_offices/110" for 127.0.0.1 at Mon Jun 20 12:31:03 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"110"}
  [1m[36mUser Load (9.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 110 LIMIT 1
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[36mGenre Load (11.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/show.html.haml within layouts/application (137.8ms)
Completed 200 OK in 334ms (Views: 150.6ms | ActiveRecord: 29.7ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:31:07 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (6.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.4ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (12.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.9ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (11.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (13.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (11.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (9.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (9.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (8.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (31.6ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (348.6ms)
Completed 200 OK in 777ms (Views: 292.3ms | ActiveRecord: 145.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:31:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (12.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (15.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.6ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (15.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (69.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (238.1ms)
Completed 200 OK in 652ms (Views: 237.4ms | ActiveRecord: 103.9ms)


Started GET "/box_offices/110/edit" for 127.0.0.1 at Mon Jun 20 12:31:36 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"110"}
  [1m[35mUser Load (8.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (7.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 110 LIMIT 1[0m
  [1m[35mRental Load (12.7ms)[0m  SELECT "rentals".* FROM "rentals"
  [1m[36mCountry Load (10.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (10.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 60 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.8ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 62 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (11.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (9.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 12 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
Rendered box_offices/_form.html.haml (489.3ms)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[36mGenre Load (84.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (212.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/edit.html.haml within layouts/application (771.4ms)
Completed 200 OK in 895ms (Views: 599.1ms | ActiveRecord: 217.7ms)


Started POST "/box_offices/110" for 127.0.0.1 at Mon Jun 20 12:31:45 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "id"=>"110", "box_office"=>{"number_week"=>"4", "sum_all"=>"1000", "id_rental"=>"17"}}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (11.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 110 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.0ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 4) AND ("box_offices".id <> 110) LIMIT 1
  [1m[36mAREL (2.8ms)[0m  [1mUPDATE "box_offices" SET "updated_at" = '2011-06-20 08:31:45.905320', "sum_all" = 1000 WHERE "box_offices"."id" = 110[0m
Redirected to http://localhost:3000/box_offices/110
Completed 302 Found in 248ms


Started GET "/box_offices/110" for 127.0.0.1 at Mon Jun 20 12:31:45 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"110"}
  [1m[35mUser Load (10.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (13.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 110 LIMIT 1[0m
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[35mGenre Load (20.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (155.9ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/show.html.haml within layouts/application (226.1ms)
Completed 200 OK in 357ms (Views: 228.2ms | ActiveRecord: 45.0ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:31:49 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (10.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mGenre Load (10.2ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)[0m
  [1m[35mCountry Load (11.1ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 2)[0m
  [1m[35mPerson Load (12.1ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name
  [1m[36mRental Load (18.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (13.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (6.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCountry Load (5.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (7.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCountry Load (6.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCountry Load (7.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mSQL (5.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[35mGenre Load (9.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (32.6ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (261.3ms)
Completed 200 OK in 835ms (Views: 215.1ms | ActiveRecord: 200.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:32:05 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.6ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (155.6ms)
Completed 200 OK in 563ms (Views: 163.0ms | ActiveRecord: 84.4ms)


Started GET "/box_offices/109/edit" for 127.0.0.1 at Mon Jun 20 12:32:16 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"109"}
  [1m[36mUser Load (9.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 109 LIMIT 1
  [1m[36mRental Load (10.1ms)[0m  [1mSELECT "rentals".* FROM "rentals"[0m
  [1m[35mCountry Load (15.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (7.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (9.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (12.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 60 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCountry Load (8.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 62 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (5.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (6.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (6.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 12 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
Rendered box_offices/_form.html.haml (579.8ms)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (59.5ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered box_offices/edit.html.haml within layouts/application (703.7ms)
Completed 200 OK in 822ms (Views: 599.9ms | ActiveRecord: 149.4ms)


Started POST "/box_offices/109" for 127.0.0.1 at Mon Jun 20 12:32:22 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "id"=>"109", "box_office"=>{"number_week"=>"3", "sum_all"=>"900", "id_rental"=>"17"}}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 109 LIMIT 1
  [1m[36mBoxOffice Load (7.2ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 3) AND ("box_offices".id <> 109) LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  UPDATE "box_offices" SET "updated_at" = '2011-06-20 08:32:22.562559', "sum_all" = 900 WHERE "box_offices"."id" = 109
Redirected to http://localhost:3000/box_offices/109
Completed 302 Found in 132ms


Started GET "/box_offices/109" for 127.0.0.1 at Mon Jun 20 12:32:22 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"109"}
  [1m[36mUser Load (9.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 109 LIMIT 1
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (12.3ms)
  [1m[36mGenre Load (10.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/show.html.haml within layouts/application (141.4ms)
Completed 200 OK in 371ms (Views: 153.4ms | ActiveRecord: 27.9ms)


Started GET "/box_offices/107/edit" for 127.0.0.1 at Mon Jun 20 12:32:25 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"107"}
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (7.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 107 LIMIT 1[0m
  [1m[35mRental Load (9.5ms)[0m  SELECT "rentals".* FROM "rentals"
  [1m[36mCountry Load (10.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (9.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (5.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCountry Load (8.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 60 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCountry Load (9.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 62 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (8.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 12 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1
Rendered box_offices/_form.html.haml (477.1ms)
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[36mGenre Load (11.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (133.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/edit.html.haml within layouts/application (672.5ms)
Completed 200 OK in 779ms (Views: 570.7ms | ActiveRecord: 136.4ms)


Started POST "/box_offices/107" for 127.0.0.1 at Mon Jun 20 12:32:30 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "id"=>"107", "box_office"=>{"number_week"=>"2", "sum_all"=>"800", "id_rental"=>"17"}}
  [1m[35mUser Load (10.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (8.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 107 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.6ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 2) AND ("box_offices".id <> 107) LIMIT 1
  [1m[36mAREL (3.9ms)[0m  [1mUPDATE "box_offices" SET "sum_all" = 800, "updated_at" = '2011-06-20 08:32:30.810212' WHERE "box_offices"."id" = 107[0m
Redirected to http://localhost:3000/box_offices/107
Completed 302 Found in 262ms


Started GET "/box_offices/107" for 127.0.0.1 at Mon Jun 20 12:32:30 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"107"}
  [1m[35mUser Load (8.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (25.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 107 LIMIT 1[0m
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (16.0ms)
  [1m[35mGenre Load (12.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (72.1ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered box_offices/show.html.haml within layouts/application (259.8ms)
Completed 200 OK in 384ms (Views: 268.6ms | ActiveRecord: 45.9ms)


Started GET "/box_offices/108/edit" for 127.0.0.1 at Mon Jun 20 12:32:34 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"108"}
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 108 LIMIT 1
  [1m[36mRental Load (8.9ms)[0m  [1mSELECT "rentals".* FROM "rentals"[0m
  [1m[35mCountry Load (10.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (11.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (6.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (5.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCountry Load (7.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 60 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCountry Load (8.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 62 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (5.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 12 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 4 LIMIT 1[0m
Rendered box_offices/_form.html.haml (466.4ms)
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[35mGenre Load (13.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/edit.html.haml within layouts/application (595.9ms)
Completed 200 OK in 798ms (Views: 496.0ms | ActiveRecord: 162.0ms)


Started POST "/box_offices/108" for 127.0.0.1 at Mon Jun 20 12:32:39 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"SLsZprsH6UbDuLiCLJKXsAFClgq0OQGaYg0TM8Jr8fs=", "utf8"=>"‚úì", "id"=>"108", "box_office"=>{"number_week"=>"1", "sum_all"=>"700", "id_rental"=>"17"}}
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 108 LIMIT 1
  [1m[36mBoxOffice Load (7.8ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 17 AND ("box_offices"."number_week" = 1) AND ("box_offices".id <> 108) LIMIT 1[0m
  [1m[35mAREL (3.7ms)[0m  UPDATE "box_offices" SET "updated_at" = '2011-06-20 08:32:40.064925', "sum_all" = 700 WHERE "box_offices"."id" = 108
Redirected to http://localhost:3000/box_offices/108
Completed 302 Found in 133ms


Started GET "/box_offices/108" for 127.0.0.1 at Mon Jun 20 12:32:40 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"108"}
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 108 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (10.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (139.3ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered box_offices/show.html.haml within layouts/application (208.8ms)
Completed 200 OK in 323ms (Views: 218.9ms | ActiveRecord: 26.3ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:32:43 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (12.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (11.6ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.6ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (10.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (6.1ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (7.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (30.1ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (331.9ms)
Completed 200 OK in 769ms (Views: 291.8ms | ActiveRecord: 217.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:32:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (11.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.7ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[36mGenre Load (10.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (61.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (149.5ms)
Completed 200 OK in 643ms (Views: 153.5ms | ActiveRecord: 88.1ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:33:26 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (8.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (11.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (10.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (11.9ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (10.0ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (7.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (12.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (6.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (9.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (6.4ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.9ms)
  [1m[36mGenre Load (7.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (33.1ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/box_offices.html.haml within layouts/application (349.3ms)
Completed 200 OK in 792ms (Views: 300.1ms | ActiveRecord: 138.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:33:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (16.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (8.5ms)
Completed   in 371ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620491838_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (27.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (226.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (239.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:33:46 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 354ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619282568_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (17.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (122.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:34:04 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (12.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.0ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[36mGenre Load (11.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (229.4ms)
Completed 200 OK in 620ms (Views: 232.7ms | ActiveRecord: 100.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:34:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (13.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (13.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.0ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (8.4ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (11.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (68.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (166.4ms)
Completed 200 OK in 587ms (Views: 169.3ms | ActiveRecord: 98.2ms)


Started GET "/films/6/rentals" for 127.0.0.1 at Mon Jun 20 12:34:49 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (11.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (9.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (5.4ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[36mGenre Load (10.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (137.2ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered films/rentals.html.haml within layouts/application (473.2ms)
Completed 200 OK in 585ms (Views: 437.5ms | ActiveRecord: 68.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:36:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 298ms

NameError (undefined local variable or method `d_s' for #<RentalsController:0xb61983fc>):
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (83.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (96.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:37:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (8.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (6.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16
Completed   in 276ms

NoMethodError (undefined method `id_rental' for #<ActiveRecord::Relation:0xb62a7248>):
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (16.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (108.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (120.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (8.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (8.9ms)
Completed   in 291ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620368288_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[35mRental Load (17.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (114.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (127.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:23 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (14.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (14.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.1ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.6ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (10.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[35mGenre Load (15.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (153.8ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (264.6ms)
Completed 200 OK in 653ms (Views: 260.3ms | ActiveRecord: 119.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:35 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (11.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.6ms)
Completed   in 351ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620614708_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  [1m[36mRental Load (18.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (225.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (237.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:39 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.3ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 22 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (10.0ms)
Completed   in 392ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    16:     %tr
    17:       %th –§–∏–ª—å–º
    18:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    19:     -@n1.each do |y|
    20:       %tr
    21:         %td=y[0]
    22:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:19:in `_app_views_rentals_index_html_haml___431621396__619715178_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (17.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (121.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:43 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 20 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.0ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 20 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.6ms)
Completed   in 345ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__618611778_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
  [1m[35mRental Load (17.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (112.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (125.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:38:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (14.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (13.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 22 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.8ms)
Completed   in 419ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    16:     %tr
    17:       %th –§–∏–ª—å–º
    18:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    19:     -@n1.each do |y|
    20:       %tr
    21:         %td=y[0]
    22:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:19:in `_app_views_rentals_index_html_haml___431621396__620235008_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (20.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (210.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (223.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:39:05 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (11.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (17.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (8.7ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 22 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (14.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 22 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.4ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (14.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.7ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (234.1ms)
Completed 200 OK in 630ms (Views: 237.7ms | ActiveRecord: 112.7ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:39:18 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (10.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (14.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (19.2ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (12.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (12.1ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (8.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (13.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (7.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (6.9ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (9.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.6ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (265.1ms)
Completed 200 OK in 873ms (Views: 218.6ms | ActiveRecord: 177.4ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 12:39:33 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (10.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (8.0ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (10.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (12.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (1, 2, 5, 6) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 5 LIMIT 1
  [1m[36mCountry Load (7.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 6 LIMIT 1
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 6 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (1, 2, 5, 6)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (10.7ms)
  [1m[36mGenre Load (8.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (31.9ms)
Rendered layouts/_footer.haml (2.6ms)
Rendered rentals/box_offices.html.haml within layouts/application (281.6ms)
Completed 200 OK in 819ms (Views: 222.8ms | ActiveRecord: 143.4ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 12:39:41 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (10.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (13.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (12.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mFilm Load (10.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (8.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 3 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (12.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (144.2ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered films/rentals.html.haml within layouts/application (539.0ms)
Completed 200 OK in 658ms (Views: 490.1ms | ActiveRecord: 105.0ms)


Started GET "/rentals/6/box_offices" for 127.0.0.1 at Mon Jun 20 12:40:28 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (6.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (9.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.6ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (9.3ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (9.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (11.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (5.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (9.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (10.9ms)
  [1m[36mGenre Load (7.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (30.2ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (258.6ms)
Completed 200 OK in 772ms (Views: 216.9ms | ActiveRecord: 127.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:40:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (5.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (8.8ms)
Completed   in 392ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620638368_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (16.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (213.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (226.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:41:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.1ms)
Completed   in 336ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619669618_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (17.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (121.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:42:23 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (85.7ms)
Completed   in 376ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620591808_0'
  app/controllers/rentals_controller.rb:28:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (18.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (113.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (127.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:42:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (12.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.1ms)
Completed   in 356ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619883788_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (18.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (111.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (123.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:42:56 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (12.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.0ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.4ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[36mGenre Load (14.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (70.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (177.3ms)
Completed 200 OK in 557ms (Views: 178.6ms | ActiveRecord: 109.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:44:01 +0400 2011

SyntaxError (/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:17: syntax error, unexpected tINTEGER, expecting kEND):
  

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:44:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (33.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.5ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (12.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (148.4ms)
Rendered layouts/_footer.haml (3.3ms)
Rendered rentals/index.html.haml within layouts/application (257.6ms)
Completed 200 OK in 688ms (Views: 263.1ms | ActiveRecord: 106.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:44:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (105.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (12.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (11.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 19 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 19 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (12.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 19 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.4ms)
Completed   in 492ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    16:     %tr
    17:       %th –§–∏–ª—å–º
    18:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    19:     -@n1.each do |y|
    20:       %tr
    21:         %td=y[0]
    22:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:19:in `_app_views_rentals_index_html_haml___431621396__620605598_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (20.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (219.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (232.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:44:39 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 17 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 17 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 346ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619524688_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (17.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (122.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:44:48 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.4ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.8ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[35mGenre Load (12.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (64.4ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (153.4ms)
Completed 200 OK in 615ms (Views: 154.8ms | ActiveRecord: 96.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:45:09 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.2ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (4.8ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (12.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (65.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (156.2ms)
Completed 200 OK in 551ms (Views: 161.9ms | ActiveRecord: 81.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:45:15 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (10.0ms)
Completed   in 351ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619461838_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (20.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (113.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (126.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:45:30 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered rentals/index.html.haml within layouts/application (556.8ms)
Completed   in 906ms

ActionView::Template::Error (undefined local variable or method `x' for #<#<Class:0xb6063630>:0xb6061204>):
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:       %tr
    10:         %td=x[0]
    11:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
    12: %br      
    13: -unless @n1.blank?  
  app/views/rentals/index.html.haml:10:in `_app_views_rentals_index_html_haml___431621396__620562988_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (84.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (96.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:45:41 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (12.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (11.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (11.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered rentals/index.html.haml within layouts/application (555.4ms)
Completed   in 931ms

ActionView::Template::Error (undefined local variable or method `n' for #<#<Class:0xb60849e8>:0xb6080d98>):
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:       %tr
    10:         %td=n[0]
    11:         %td=number_to_currency(n[1], :unit => "$", :separator => ",", :delimiter => " ")
    12: %br      
    13: -unless @n1.blank?  
  app/views/rentals/index.html.haml:10:in `_app_views_rentals_index_html_haml___431621396__620508998_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (82.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (95.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:45:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (5.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.9ms)
Completed   in 271ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    15:     %tr
    16:       %th –§–∏–ª—å–º
    17:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    18:     -@n1.each do |y|
    19:       %tr
    20:         %td=y[0]
    21:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:18:in `_app_views_rentals_index_html_haml___431621396__620570068_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (16.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (113.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (126.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:46:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (12.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.6ms)
Completed   in 384ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    15:     %tr
    16:       %th –§–∏–ª—å–º
    17:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    18:     -@n1.each do |y|
    19:       %tr
    20:         %td=y[0]
    21:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:18:in `_app_views_rentals_index_html_haml___431621396__619837388_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (20.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (111.2ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (123.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:46:42 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.7ms)
Completed   in 340ms

ActionView::Template::Error (wrong number of arguments (0 for 1)):
    17:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    18:     
    19:       %tr
    20:         %td=y[0]
    21:         %td=number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
    22: =paginate @rentals
    23: %br
  app/views/rentals/index.html.haml:20:in `y'
  app/views/rentals/index.html.haml:20:in `_app_views_rentals_index_html_haml___431621396__618844268_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (18.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (112.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (124.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:46:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (9.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (22.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (160.6ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (271.7ms)
Completed 200 OK in 617ms (Views: 258.7ms | ActiveRecord: 94.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:47:15 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (9.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.6ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (16.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.5ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 18 AND "films"."id" IN (6) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (7.0ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[35mGenre Load (11.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (154.9ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (241.0ms)
Completed 200 OK in 641ms (Views: 249.0ms | ActiveRecord: 92.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:47:32 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (16.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (11.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (8.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (15.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 68 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 68 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.8ms)
Completed   in 409ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620902478_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  [1m[36mRental Load (18.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (230.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (242.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 12:51:59 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (34.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (20.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (10.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 418ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619616398_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[35mRental Load (21.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (114.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (127.1ms)


Started GET "/" for 192.168.27.6 at Mon Jun 20 12:54:48 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[36mFilm Load (18.6ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (43.6ms)
Rendered films/_film.html.haml (7.7ms)
Rendered films/_film.html.haml (7.7ms)
Rendered films/_film.html.haml (7.6ms)
Rendered films/_film.html.haml (7.6ms)
  [1m[35mSQL (5.9ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (12.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (88.7ms)
Rendered layouts/_footer.haml (87.6ms)
Rendered films/index.html.haml within layouts/application (400.7ms)
Completed 200 OK in 507ms (Views: 393.0ms | ActiveRecord: 37.0ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 12:54:57 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mRental Load (8.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 330ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619495168_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[36mRental Load (19.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (109.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (123.0ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 12:58:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mRental Load (12.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (11.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (10.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (18.2ms)
Rendered layouts/_menu.haml (14.9ms)
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (173.7ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (304.8ms)
Completed 200 OK in 785ms (Views: 389.8ms | ActiveRecord: 63.6ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 12:59:31 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mRental Load (10.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (8.8ms)
Rendered layouts/_menu.haml (10.7ms)
  [1m[36mGenre Load (20.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (74.5ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (162.1ms)
Completed 200 OK in 523ms (Views: 168.4ms | ActiveRecord: 71.5ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 12:59:35 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (9.5ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (19.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (76.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (170.3ms)
Completed 200 OK in 476ms (Views: 257.2ms | ActiveRecord: 67.6ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 13:00:11 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mRental Load (8.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (10.4ms)
  [1m[36mGenre Load (14.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (168.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (259.1ms)
Completed 200 OK in 495ms (Views: 263.0ms | ActiveRecord: 61.5ms)


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 13:00:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mRental Load (8.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1
  [1m[36mBoxOffice Load (10.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mFilm Load (9.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 16 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 16 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (10.4ms)
  [1m[35mGenre Load (11.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (68.8ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (156.5ms)
Completed 200 OK in 560ms (Views: 226.7ms | ActiveRecord: 60.7ms)


Started GET "/login" for 192.168.27.6 at Mon Jun 20 13:01:00 +0400 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_tray.haml (7.7ms)
Rendered layouts/_menu.haml (10.3ms)
  [1m[36mGenre Load (18.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (72.2ms)
Rendered layouts/_footer.haml (3.5ms)
Rendered sessions/new.haml within layouts/application (138.4ms)
Completed 200 OK in 165ms (Views: 145.7ms | ActiveRecord: 18.7ms)


Started POST "/session" for 192.168.27.6 at Mon Jun 20 13:01:06 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"0g6V9Rf7+Hho779HJUmmIcdFfDFBvjb6VM4D7E2RspE=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[35mUser Load (14.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1
Redirected to http://stone02.msiu.ru:3000/
Completed 302 Found in 105ms


Started GET "/" for 192.168.27.6 at Mon Jun 20 13:01:06 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[36mFilm Load (15.1ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (128.0ms)
Rendered films/_film.html.haml (9.3ms)
Rendered films/_film.html.haml (8.5ms)
Rendered films/_film.html.haml (8.7ms)
Rendered films/_film.html.haml (10.2ms)
  [1m[35mSQL (8.5ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (10.7ms)
  [1m[36mGenre Load (12.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.7ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered films/index.html.haml within layouts/application (367.1ms)
Completed 200 OK in 454ms (Views: 368.4ms | ActiveRecord: 50.0ms)


Started GET "/login" for 192.168.27.6 at Mon Jun 20 13:01:10 +0400 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_tray.haml (7.7ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[35mGenre Load (18.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (73.5ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered sessions/new.haml within layouts/application (141.6ms)
Completed 200 OK in 165ms (Views: 145.5ms | ActiveRecord: 18.4ms)


Started POST "/session" for 192.168.27.6 at Mon Jun 20 13:01:17 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"jOxya9SqrYdWfk4hd8cRbZBxrz8Ko/mzaWSLHAhqISE=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[36mUser Load (10.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1[0m
Redirected to http://stone02.msiu.ru:3000/
Completed 302 Found in 186ms


Started GET "/" for 192.168.27.6 at Mon Jun 20 13:01:17 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (123.0ms)
Rendered films/_film.html.haml (7.8ms)
Rendered films/_film.html.haml (7.8ms)
Rendered films/_film.html.haml (9.2ms)
Rendered films/_film.html.haml (7.8ms)
  [1m[35mSQL (5.1ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.6ms)
Rendered layouts/_menu.haml (12.6ms)
  [1m[36mGenre Load (11.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (67.2ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/index.html.haml within layouts/application (344.5ms)
Completed 200 OK in 467ms (Views: 341.3ms | ActiveRecord: 43.4ms)


Started GET "/films/6" for 192.168.27.6 at Mon Jun 20 13:01:25 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (5.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (10.5ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (10.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (17.7ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (10.6ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (8.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mFilm Load (5.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 6)[0m
  [1m[35mBoxOffice Load (10.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
  [1m[36mCountry Load (12.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (7.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16)[0m
  [1m[35mCountry Load (7.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 194 AND "rentals"."film_id" = 6[0m
  [1m[35mBoxOffice Load (5.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (17)
Rendered people/_person.html.haml (23.3ms)
Rendered people/_person.html.haml (7.0ms)
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[36mGenre Load (7.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.6ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/show.html.haml within layouts/application (176.7ms)
Completed 200 OK in 735ms (Views: 198.0ms | ActiveRecord: 137.3ms)


Started GET "/films/6/rentals" for 192.168.27.6 at Mon Jun 20 13:01:30 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (11.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (8.1ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (6.4ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 6
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (11.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (147.6ms)
Rendered layouts/_footer.haml (3.8ms)
Rendered films/rentals.html.haml within layouts/application (510.2ms)
Completed 200 OK in 632ms (Views: 479.7ms | ActiveRecord: 69.6ms)


Started GET "/rentals/6/box_offices" for 192.168.27.6 at Mon Jun 20 13:01:34 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (10.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mGenre Load (12.0ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 15)
  [1m[36mCountry Load (11.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (12.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 2)
  [1m[36mPerson Load (10.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 6) ORDER BY name[0m
  [1m[35mRental Load (16.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mBoxOffice Load (18.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (24.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCountry Load (19.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCountry Load (19.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 18 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mSQL (12.6ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."id_rental" IN (16, 17, 18)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (12.5ms)
  [1m[36mGenre Load (11.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (34.2ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (333.8ms)
Completed 200 OK in 1017ms (Views: 339.3ms | ActiveRecord: 208.6ms)


Started GET "/rentals/6/new_box_office" for 192.168.27.6 at Mon Jun 20 13:01:39 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (30.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (127.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mCountry Load (10.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (7.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[35mGenre Load (11.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (66.0ms)
Rendered layouts/_footer.haml (3.7ms)
Rendered rentals/new_box_office.html.haml within layouts/application (241.3ms)
Completed 200 OK in 1040ms (Views: 453.3ms | ActiveRecord: 201.4ms)


Started GET "/rentals/6/new_box_office" for 192.168.27.6 at Mon Jun 20 13:02:14 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (8.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mCountry Load (14.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (11.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (12.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (10.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (12.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.5ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/new_box_office.html.haml within layouts/application (153.0ms)
Completed 200 OK in 539ms (Views: 161.6ms | ActiveRecord: 80.0ms)


Started GET "/rentals/6/new_box_office" for 192.168.27.6 at Mon Jun 20 13:05:26 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mCountry Load (10.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (6.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (8.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[35mGenre Load (11.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (76.5ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/new_box_office.html.haml within layouts/application (194.8ms)
Completed 200 OK in 603ms (Views: 218.6ms | ActiveRecord: 61.6ms)


Started POST "/box_offices" for 192.168.27.6 at Mon Jun 20 13:05:38 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"jOxya9SqrYdWfk4hd8cRbZBxrz8Ko/mzaWSLHAhqISE=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"16", "sum_all"=>"100000", "id_rental"=>"16"}}
  [1m[36mUser Load (8.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (11.7ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."number_week" = 16) LIMIT 1
  [1m[36mAREL (20.0ms)[0m  [1mINSERT INTO "box_offices" ("id_rental", "number_week", "sum_all", "updated_at", "created_at") VALUES (16, 16, 100000, '2011-06-20 09:05:38.914408', '2011-06-20 09:05:38.914408')[0m
Redirected to http://stone02.msiu.ru:3000/box_offices/111
Completed 302 Found in 159ms


Started GET "/box_offices/111" for 192.168.27.6 at Mon Jun 20 13:05:39 +0400 2011
  Processing by BoxOfficesController#show as HTML
  Parameters: {"id"=>"111"}
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (8.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 111 LIMIT 1[0m
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (12.4ms)
  [1m[35mGenre Load (10.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (67.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/show.html.haml within layouts/application (142.3ms)
Completed 200 OK in 355ms (Views: 162.3ms | ActiveRecord: 66.4ms)


Started GET "/rentals/6/new_box_office" for 192.168.27.6 at Mon Jun 20 13:06:26 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (11.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (11.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6
  [1m[36mCountry Load (16.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (11.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
  [1m[36mCountry Load (9.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (14.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (150.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/new_box_office.html.haml within layouts/application (239.3ms)
Completed 200 OK in 642ms (Views: 247.6ms | ActiveRecord: 81.9ms)


Started GET "/rentals/6/new_box_office" for 192.168.27.6 at Mon Jun 20 13:08:44 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6[0m
  [1m[35mCountry Load (13.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (8.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (9.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
  [1m[35mCountry Load (10.7ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 109 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 6 LIMIT 1[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (12.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (164.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/new_box_office.html.haml within layouts/application (275.5ms)
Completed 200 OK in 702ms (Views: 295.8ms | ActiveRecord: 70.4ms)


Started POST "/box_offices" for 192.168.27.6 at Mon Jun 20 13:08:54 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"jOxya9SqrYdWfk4hd8cRbZBxrz8Ko/mzaWSLHAhqISE=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"17", "sum_all"=>"100000", "id_rental"=>"16"}}
  [1m[36mUser Load (8.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.2ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."number_week" = 17) LIMIT 1
  [1m[36mAREL (17.1ms)[0m  [1mINSERT INTO "box_offices" ("updated_at", "id_rental", "number_week", "sum_all", "created_at") VALUES ('2011-06-20 09:08:54.431085', 16, 17, 100000, '2011-06-20 09:08:54.431085')[0m
Completed   in 266ms

NoMethodError (undefined method `film' for nil:NilClass):
  app/controllers/box_offices_controller.rb:45:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (26.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (39.7ms)
  [1m[36mSQL (18.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Started GET "/rentals" for 192.168.27.6 at Mon Jun 20 13:10:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (14.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (17.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (13.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 9 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (9.0ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 9 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (12.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (85.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (211.0ms)
Completed 200 OK in 689ms (Views: 222.3ms | ActiveRecord: 90.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:13:20 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (11.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (30.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (9.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (8.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 9 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 9 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (10.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (84.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (203.8ms)
Completed 200 OK in 657ms (Views: 217.4ms | ActiveRecord: 93.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:13:33 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (12.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (11.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 9 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (5.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 9 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.1ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.4ms)
  [1m[36mGenre Load (11.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (154.0ms)
Completed 200 OK in 515ms (Views: 155.6ms | ActiveRecord: 73.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:13:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" = 16 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 16 LIMIT 1[0m
  [1m[35mFilm Load (9.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" WHERE "box_offices"."number_week" = 9 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."id_rental" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 9 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (12.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.0ms)
Rendered layouts/_footer.haml (3.4ms)
Rendered rentals/index.html.haml within layouts/application (153.2ms)
Completed 200 OK in 503ms (Views: 155.9ms | ActiveRecord: 68.1ms)
  [1m[36mSQL (11.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  select sqlite_version(*)
  [1m[36mSQL (19.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (25.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (6.7ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (7.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (6.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to CreateFilms (20110421163343)
  [1m[36mSQL (10.0ms)[0m  [1mCREATE TABLE "films" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "origin_name" varchar(255), "slogan" text, "country_id" integer, "genre_id" integer, "director_id" integer, "length" integer, "year" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110421163343')
Migrating to CreateUsers (20110421182017)
  [1m[36mSQL (12.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "role" integer) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.9ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110421182017')
Migrating to CreateCountries (20110421192623)
  [1m[36mSQL (12.2ms)[0m  [1mCREATE TABLE "countries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110421192623')
Migrating to CreateGenres (20110422105405)
  [1m[36mSQL (9.6ms)[0m  [1mCREATE TABLE "genres" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110422105405')
Migrating to CreatePeople (20110422122501)
  [1m[36mSQL (10.3ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "origin_name" varchar(255), "male" boolean, "birthday" date, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110422122501')
Migrating to AddAvatarColumnsToPersons (20110422124047)
  [1m[36mSQL (11.4ms)[0m  [1mALTER TABLE "people" ADD "avatar_file_name" varchar(255)[0m
  [1m[35mSQL (0.4ms)[0m  ALTER TABLE "people" ADD "avatar_content_type" varchar(255)
  [1m[36mSQL (0.4ms)[0m  [1mALTER TABLE "people" ADD "avatar_file_size" integer[0m
  [1m[35mSQL (0.4ms)[0m  ALTER TABLE "people" ADD "avatar_updated_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110422124047')[0m
Migrating to CreateFilmsPeople (20110422185028)
  [1m[35mSQL (17.1ms)[0m  CREATE TABLE "films_people" ("film_id" integer, "person_id" integer) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110422185028')[0m
Migrating to AddCoverAndTrailerFieldsToFilms (20110423083337)
  [1m[35mSQL (12.5ms)[0m  ALTER TABLE "films" ADD "cover_file_name" varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "films" ADD "cover_content_type" varchar(255)[0m
  [1m[35mSQL (0.4ms)[0m  ALTER TABLE "films" ADD "cover_file_size" integer
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "films" ADD "cover_updated_at" datetime[0m
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "films" ADD "trailer_url" varchar(255)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110423083337')[0m
Migrating to CreateBoxOffices (20110517113008)
  [1m[35mSQL (12.9ms)[0m  CREATE TABLE "box_offices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rental_id" integer, "number_week" integer, "sum_all" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110517113008')[0m
Migrating to CreateRentals (20110517113147)
  [1m[35mSQL (13.5ms)[0m  CREATE TABLE "rentals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data_start" date, "data_finish" date, "country_id" integer, "film_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110517113147')[0m
  [1m[35mSQL (8.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (8.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (8.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("box_offices")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("countries")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("films")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("films_people")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("genres")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("people")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("rentals")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_login')[0m
  [1m[35mSQL (6.7ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (7.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (6.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users"."id" FROM "users" WHERE ("users"."login" = 'admin') LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users"."id" FROM "users" WHERE ("users"."email" = 'admin@msiu.ru') LIMIT 1
  [1m[36mAREL (3.4ms)[0m  [1mINSERT INTO "users" ("remember_token_expires_at", "remember_token", "salt", "role", "login", "crypted_password", "created_at", "updated_at", "email", "name") VALUES (NULL, NULL, '6302bff9f87c848afd7b5b1f24d9b48e168f9246', 1, 'admin', '4810f4c4a6e52f3caf0ca4e733610bcf536221e5', '2011-06-20 09:16:10.457298', '2011-06-20 09:16:10.457298', 'admin@msiu.ru', '')[0m
  [1m[35mSQL (6.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mCountry Load (0.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–≤—Å—Ç—Ä–∞–ª–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–≤—Å—Ç—Ä–∞–ª–∏—è', '2011-06-20 09:16:10.615367', '2011-06-20 09:16:10.615367')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–≤—Å—Ç—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–≤—Å—Ç—Ä–∏—è', '2011-06-20 09:16:10.644387', '2011-06-20 09:16:10.644387')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω', '2011-06-20 09:16:10.672638', '2011-06-20 09:16:10.672638')
  [1m[36mCountry Load (5.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–ª–±–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–ª–±–∞–Ω–∏—è', '2011-06-20 09:16:10.701478', '2011-06-20 09:16:10.701478')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–ª–∂–∏—Ä') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–ª–∂–∏—Ä', '2011-06-20 09:16:10.732529', '2011-06-20 09:16:10.732529')
  [1m[36mCountry Load (5.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –°–∞–º–æ–∞') LIMIT 1[0m
  [1m[35mAREL (6.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –°–∞–º–æ–∞', '2011-06-20 09:16:10.762724', '2011-06-20 09:16:10.762724')
  [1m[36mCountry Load (8.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–Ω–≥–∏–ª—å—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–Ω–≥–∏–ª—å—è', '2011-06-20 09:16:10.796281', '2011-06-20 09:16:10.796281')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–Ω–≥–æ–ª–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–Ω–≥–æ–ª–∞', '2011-06-20 09:16:10.826341', '2011-06-20 09:16:10.826341')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–Ω–¥–æ—Ä—Ä–∞') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–Ω–¥–æ—Ä—Ä–∞', '2011-06-20 09:16:10.858877', '2011-06-20 09:16:10.858877')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–∞') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–∞', '2011-06-20 09:16:10.890878', '2011-06-20 09:16:10.890878')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê–Ω—Ç–∏–≥—É–∞ –∏ –ë–∞—Ä–±—É–¥–∞') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê–Ω—Ç–∏–≥—É–∞ –∏ –ë–∞—Ä–±—É–¥–∞', '2011-06-20 09:16:10.919918', '2011-06-20 09:16:10.919918')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (2.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞', '2011-06-20 09:16:10.951518', '2011-06-20 09:16:10.951518')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê—Ä–º–µ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê—Ä–º–µ–Ω–∏—è', '2011-06-20 09:16:10.981324', '2011-06-20 09:16:10.981324')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê—Ä—É–±–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê—Ä—É–±–∞', '2011-06-20 09:16:11.011880', '2011-06-20 09:16:11.011880')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ê—Ñ–≥–∞–Ω–∏—Å—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ê—Ñ–≥–∞–Ω–∏—Å—Ç–∞–Ω', '2011-06-20 09:16:11.041323', '2011-06-20 09:16:11.041323')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–∞–≥–∞–º—ã') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–∞–≥–∞–º—ã', '2011-06-20 09:16:11.071513', '2011-06-20 09:16:11.071513')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–∞–Ω–≥–ª–∞–¥–µ—à') LIMIT 1[0m
  [1m[35mAREL (2.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–∞–Ω–≥–ª–∞–¥–µ—à', '2011-06-20 09:16:11.099570', '2011-06-20 09:16:11.099570')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–∞—Ä–±–∞–¥–æ—Å') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–∞—Ä–±–∞–¥–æ—Å', '2011-06-20 09:16:11.128888', '2011-06-20 09:16:11.128888')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–∞—Ö—Ä–µ–π–Ω') LIMIT 1[0m
  [1m[35mAREL (4.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–∞—Ö—Ä–µ–π–Ω', '2011-06-20 09:16:11.158639', '2011-06-20 09:16:11.158639')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–µ–ª–∞—Ä—É—Å—å') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–µ–ª–∞—Ä—É—Å—å', '2011-06-20 09:16:11.190977', '2011-06-20 09:16:11.190977')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–µ–ª–∏–∑') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–µ–ª–∏–∑', '2011-06-20 09:16:11.220999', '2011-06-20 09:16:11.220999')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–µ–ª—å–≥–∏—è') LIMIT 1[0m
  [1m[35mAREL (5.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–µ–ª—å–≥–∏—è', '2011-06-20 09:16:11.250326', '2011-06-20 09:16:11.250326')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–µ–Ω–∏–Ω') LIMIT 1[0m
  [1m[35mAREL (2.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–µ–Ω–∏–Ω', '2011-06-20 09:16:11.279897', '2011-06-20 09:16:11.279897')
  [1m[36mCountry Load (5.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–µ—Ä–º—É–¥—ã') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–µ—Ä–º—É–¥—ã', '2011-06-20 09:16:11.307172', '2011-06-20 09:16:11.307172')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–æ–ª–≥–∞—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–æ–ª–≥–∞—Ä–∏—è', '2011-06-20 09:16:11.336265', '2011-06-20 09:16:11.336265')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–æ–ª–∏–≤–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–æ–ª–∏–≤–∏—è', '2011-06-20 09:16:11.363718', '2011-06-20 09:16:11.363718')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–æ—Å–Ω–∏—è –∏ –ì–µ—Ä—Ü–µ–≥–æ–≤–∏–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–æ—Å–Ω–∏—è –∏ –ì–µ—Ä—Ü–µ–≥–æ–≤–∏–Ω–∞', '2011-06-20 09:16:11.394184', '2011-06-20 09:16:11.394184')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë–æ—Ç—Å–≤–∞–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë–æ—Ç—Å–≤–∞–Ω–∞', '2011-06-20 09:16:11.424292', '2011-06-20 09:16:11.424292')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—Ä–∞–∑–∏–ª–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—Ä–∞–∑–∏–ª–∏—è', '2011-06-20 09:16:11.453587', '2011-06-20 09:16:11.453587')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≤ –ò–Ω–¥–∏–π—Å–∫–æ–º –æ–∫–µ–∞–Ω–µ') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≤ –ò–Ω–¥–∏–π—Å–∫–æ–º –æ–∫–µ–∞–Ω–µ', '2011-06-20 09:16:11.481853', '2011-06-20 09:16:11.481853')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—Ä—É–Ω–µ–π-–î–∞—Ä—É—Å—Å–∞–ª–∞–º') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—Ä—É–Ω–µ–π-–î–∞—Ä—É—Å—Å–∞–ª–∞–º', '2011-06-20 09:16:11.510218', '2011-06-20 09:16:11.510218')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—É—Ä–∫–∏–Ω–∞-–§–∞—Å–æ') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—É—Ä–∫–∏–Ω–∞-–§–∞—Å–æ', '2011-06-20 09:16:11.539245', '2011-06-20 09:16:11.539245')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—É—Ä—É–Ω–¥–∏') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—É—Ä—É–Ω–¥–∏', '2011-06-20 09:16:11.570088', '2011-06-20 09:16:11.570088')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ë—É—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ë—É—Ç–∞–Ω', '2011-06-20 09:16:11.598298', '2011-06-20 09:16:11.598298')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í–∞–Ω—É–∞—Ç—É') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í–∞–Ω—É–∞—Ç—É', '2011-06-20 09:16:11.627350', '2011-06-20 09:16:11.627350')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í–µ–Ω–≥—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í–µ–Ω–≥—Ä–∏—è', '2011-06-20 09:16:11.656630', '2011-06-20 09:16:11.656630')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í–µ–Ω–µ—Å—É—ç–ª–∞') LIMIT 1[0m
  [1m[35mAREL (6.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í–µ–Ω–µ—Å—É—ç–ª–∞', '2011-06-20 09:16:11.687799', '2011-06-20 09:16:11.687799')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í–∏—Ä–≥–∏–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞, –ë—Ä–∏—Ç–∞–Ω—Å–∫–∏–µ') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í–∏—Ä–≥–∏–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞, –ë—Ä–∏—Ç–∞–Ω—Å–∫–∏–µ', '2011-06-20 09:16:11.730373', '2011-06-20 09:16:11.730373')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í–∏—Ä–≥–∏–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞, –°–®–ê') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í–∏—Ä–≥–∏–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞, –°–®–ê', '2011-06-20 09:16:11.759568', '2011-06-20 09:16:11.759568')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–í—å–µ—Ç–Ω–∞–º') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–í—å–µ—Ç–Ω–∞–º', '2011-06-20 09:16:11.789367', '2011-06-20 09:16:11.789367')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∞–±–æ–Ω') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∞–±–æ–Ω', '2011-06-20 09:16:11.821460', '2011-06-20 09:16:11.821460')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∞–∏—Ç–∏') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∞–∏—Ç–∏', '2011-06-20 09:16:11.849133', '2011-06-20 09:16:11.849133')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∞–π–∞–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∞–π–∞–Ω–∞', '2011-06-20 09:16:11.877636', '2011-06-20 09:16:11.877636')
  [1m[36mCountry Load (8.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∞–º–±–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∞–º–±–∏—è', '2011-06-20 09:16:11.910169', '2011-06-20 09:16:11.910169')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∞–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∞–Ω–∞', '2011-06-20 09:16:11.944921', '2011-06-20 09:16:11.944921')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–≤–∞–¥–µ–ª—É–ø–∞') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–≤–∞–¥–µ–ª—É–ø–∞', '2011-06-20 09:16:11.976527', '2011-06-20 09:16:11.976527')
  [1m[36mCountry Load (8.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–≤–∞—Ç–µ–º–∞–ª–∞') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–≤–∞—Ç–µ–º–∞–ª–∞', '2011-06-20 09:16:12.005273', '2011-06-20 09:16:12.005273')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–≤–∏–Ω–µ—è') LIMIT 1[0m
  [1m[35mAREL (2.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–≤–∏–Ω–µ—è', '2011-06-20 09:16:12.037219', '2011-06-20 09:16:12.037219')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–≤–∏–Ω–µ—è-–ë–∏—Å–∞—É') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–≤–∏–Ω–µ—è-–ë–∏—Å–∞—É', '2011-06-20 09:16:12.066922', '2011-06-20 09:16:12.066922')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–µ—Ä–º–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–µ—Ä–º–∞–Ω–∏—è', '2011-06-20 09:16:12.098700', '2011-06-20 09:16:12.098700')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–µ—Ä–Ω—Å–∏') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–µ—Ä–Ω—Å–∏', '2011-06-20 09:16:12.128878', '2011-06-20 09:16:12.128878')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–∏–±—Ä–∞–ª—Ç–∞—Ä') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–∏–±—Ä–∞–ª—Ç–∞—Ä', '2011-06-20 09:16:12.157558', '2011-06-20 09:16:12.157558')
  [1m[36mCountry Load (5.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–æ–Ω–¥—É—Ä–∞—Å') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–æ–Ω–¥—É—Ä–∞—Å', '2011-06-20 09:16:12.184082', '2011-06-20 09:16:12.184082')
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì–æ–Ω–∫–æ–Ω–≥') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì–æ–Ω–∫–æ–Ω–≥', '2011-06-20 09:16:12.212178', '2011-06-20 09:16:12.212178')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì—Ä–µ–Ω–∞–¥–∞') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì—Ä–µ–Ω–∞–¥–∞', '2011-06-20 09:16:12.239480', '2011-06-20 09:16:12.239480')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì—Ä–µ–Ω–ª–∞–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì—Ä–µ–Ω–ª–∞–Ω–¥–∏—è', '2011-06-20 09:16:12.266043', '2011-06-20 09:16:12.266043')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì—Ä–µ—Ü–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì—Ä–µ—Ü–∏—è', '2011-06-20 09:16:12.309705', '2011-06-20 09:16:12.309705')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì—Ä—É–∑–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì—Ä—É–∑–∏—è', '2011-06-20 09:16:12.337656', '2011-06-20 09:16:12.337656')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ì—É–∞–º') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ì—É–∞–º', '2011-06-20 09:16:12.364715', '2011-06-20 09:16:12.364715')
  [1m[36mCountry Load (11.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–î–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (11.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–î–∞–Ω–∏—è', '2011-06-20 09:16:12.397429', '2011-06-20 09:16:12.397429')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–î–∂–µ—Ä—Å–∏') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–î–∂–µ—Ä—Å–∏', '2011-06-20 09:16:12.436255', '2011-06-20 09:16:12.436255')
  [1m[36mCountry Load (8.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–î–∂–∏–±—É—Ç–∏') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–î–∂–∏–±—É—Ç–∏', '2011-06-20 09:16:12.463116', '2011-06-20 09:16:12.463116')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–î–æ–º–∏–Ω–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–î–æ–º–∏–Ω–∏–∫–∞', '2011-06-20 09:16:12.497165', '2011-06-20 09:16:12.497165')
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–î–æ–º–∏–Ω–∏–∫–∞–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–î–æ–º–∏–Ω–∏–∫–∞–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:12.525983', '2011-06-20 09:16:12.525983')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ï–≥–∏–ø–µ—Ç') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ï–≥–∏–ø–µ—Ç', '2011-06-20 09:16:12.553065', '2011-06-20 09:16:12.553065')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ó–∞–º–±–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ó–∞–º–±–∏—è', '2011-06-20 09:16:12.579479', '2011-06-20 09:16:12.579479')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ó–∞–ø–∞–¥–Ω–∞—è –°–∞—Ö–∞—Ä–∞') LIMIT 1[0m
  [1m[35mAREL (3.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ó–∞–ø–∞–¥–Ω–∞—è –°–∞—Ö–∞—Ä–∞', '2011-06-20 09:16:12.606975', '2011-06-20 09:16:12.606975')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ó–∏–º–±–∞–±–≤–µ') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ó–∏–º–±–∞–±–≤–µ', '2011-06-20 09:16:12.635327', '2011-06-20 09:16:12.635327')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò–∑—Ä–∞–∏–ª—å') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò–∑—Ä–∞–∏–ª—å', '2011-06-20 09:16:12.664084', '2011-06-20 09:16:12.664084')
  [1m[36mCountry Load (5.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò–Ω–¥–∏—è', '2011-06-20 09:16:12.692882', '2011-06-20 09:16:12.692882')
  [1m[36mCountry Load (5.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò–Ω–¥–æ–Ω–µ–∑–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò–Ω–¥–æ–Ω–µ–∑–∏—è', '2011-06-20 09:16:12.722479', '2011-06-20 09:16:12.722479')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò–æ—Ä–¥–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò–æ—Ä–¥–∞–Ω–∏—è', '2011-06-20 09:16:12.751529', '2011-06-20 09:16:12.751529')
  [1m[36mCountry Load (5.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Ä–∞–∫') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Ä–∞–∫', '2011-06-20 09:16:12.779495', '2011-06-20 09:16:12.779495')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Ä–∞–Ω, –ò—Å–ª–∞–º—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (5.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Ä–∞–Ω, –ò—Å–ª–∞–º—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:12.808534', '2011-06-20 09:16:12.808534')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Ä–ª–∞–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Ä–ª–∞–Ω–¥–∏—è', '2011-06-20 09:16:12.840192', '2011-06-20 09:16:12.840192')
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Å–ª–∞–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Å–ª–∞–Ω–¥–∏—è', '2011-06-20 09:16:12.867351', '2011-06-20 09:16:12.867351')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Å–ø–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Å–ø–∞–Ω–∏—è', '2011-06-20 09:16:12.896348', '2011-06-20 09:16:12.896348')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ò—Ç–∞–ª–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ò—Ç–∞–ª–∏—è', '2011-06-20 09:16:12.924007', '2011-06-20 09:16:12.924007')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ô–µ–º–µ–Ω') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ô–µ–º–µ–Ω', '2011-06-20 09:16:12.951908', '2011-06-20 09:16:12.951908')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞–±–æ-–í–µ—Ä–¥–µ') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞–±–æ-–í–µ—Ä–¥–µ', '2011-06-20 09:16:12.978722', '2011-06-20 09:16:12.978722')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', '2011-06-20 09:16:13.007867', '2011-06-20 09:16:13.007867')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞–º–±–æ–¥–∂–∞') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞–º–±–æ–¥–∂–∞', '2011-06-20 09:16:13.038315', '2011-06-20 09:16:13.038315')
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞–º–µ—Ä—É–Ω') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞–º–µ—Ä—É–Ω', '2011-06-20 09:16:13.065576', '2011-06-20 09:16:13.065576')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞–Ω–∞–¥–∞') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞–Ω–∞–¥–∞', '2011-06-20 09:16:13.094757', '2011-06-20 09:16:13.094757')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∞—Ç–∞—Ä') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∞—Ç–∞—Ä', '2011-06-20 09:16:13.126709', '2011-06-20 09:16:13.126709')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–µ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (5.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–µ–Ω–∏—è', '2011-06-20 09:16:13.157114', '2011-06-20 09:16:13.157114')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∏–ø—Ä') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∏–ø—Ä', '2011-06-20 09:16:13.188318', '2011-06-20 09:16:13.188318')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∏—Ä–≥–∏–∑–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∏—Ä–≥–∏–∑–∏—è', '2011-06-20 09:16:13.218005', '2011-06-20 09:16:13.218005')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∏—Ä–∏–±–∞—Ç–∏') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∏—Ä–∏–±–∞—Ç–∏', '2011-06-20 09:16:13.246531', '2011-06-20 09:16:13.246531')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–∏—Ç–∞–π') LIMIT 1[0m
  [1m[35mAREL (2.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–∏—Ç–∞–π', '2011-06-20 09:16:13.274772', '2011-06-20 09:16:13.274772')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ–∫–æ—Å–æ–≤—ã–µ (–ö–∏–ª–∏–Ω–≥) –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ–∫–æ—Å–æ–≤—ã–µ (–ö–∏–ª–∏–Ω–≥) –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:13.303582', '2011-06-20 09:16:13.303582')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ–ª—É–º–±–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ–ª—É–º–±–∏—è', '2011-06-20 09:16:13.333504', '2011-06-20 09:16:13.333504')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ–º–æ—Ä—ã') LIMIT 1[0m
  [1m[35mAREL (2.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ–º–æ—Ä—ã', '2011-06-20 09:16:13.363943', '2011-06-20 09:16:13.363943')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ–Ω–≥–æ') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ–Ω–≥–æ', '2011-06-20 09:16:13.390170', '2011-06-20 09:16:13.390170')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ–Ω–≥–æ, –î–µ–º–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ–Ω–≥–æ, –î–µ–º–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:13.416484', '2011-06-20 09:16:13.416484')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ—Å–æ–≤–æ') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ—Å–æ–≤–æ', '2011-06-20 09:16:13.444339', '2011-06-20 09:16:13.444339')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ—Å—Ç–∞-–†–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ—Å—Ç–∞-–†–∏–∫–∞', '2011-06-20 09:16:13.472437', '2011-06-20 09:16:13.472437')
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö–æ—Ç –¥''–ò–≤—É–∞—Ä') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö–æ—Ç –¥''–ò–≤—É–∞—Ä', '2011-06-20 09:16:13.505125', '2011-06-20 09:16:13.505125')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö—É–±–∞') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö—É–±–∞', '2011-06-20 09:16:13.533797', '2011-06-20 09:16:13.533797')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ö—É–≤–µ–π—Ç') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ö—É–≤–µ–π—Ç', '2011-06-20 09:16:13.563740', '2011-06-20 09:16:13.563740')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∞–æ—Å') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∞–æ—Å', '2011-06-20 09:16:13.595943', '2011-06-20 09:16:13.595943')
  [1m[36mCountry Load (8.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∞—Ç–≤–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∞—Ç–≤–∏—è', '2011-06-20 09:16:13.624291', '2011-06-20 09:16:13.624291')
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–µ—Å–æ—Ç–æ') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–µ—Å–æ—Ç–æ', '2011-06-20 09:16:13.654539', '2011-06-20 09:16:13.654539')
  [1m[36mCountry Load (7.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∏–≤–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∏–≤–∞–Ω', '2011-06-20 09:16:13.684952', '2011-06-20 09:16:13.684952')
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∏–≤–∏–π—Å–∫–∞—è –ê—Ä–∞–±—Å–∫–∞—è –î–∂–∞–º–∞—Ö–∏—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∏–≤–∏–π—Å–∫–∞—è –ê—Ä–∞–±—Å–∫–∞—è –î–∂–∞–º–∞—Ö–∏—Ä–∏—è', '2011-06-20 09:16:13.714193', '2011-06-20 09:16:13.714193')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∏–±–µ—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∏–±–µ—Ä–∏—è', '2011-06-20 09:16:13.741434', '2011-06-20 09:16:13.741434')
  [1m[36mCountry Load (8.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∏—Ö—Ç–µ–Ω—à—Ç–µ–π–Ω') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∏—Ö—Ç–µ–Ω—à—Ç–µ–π–Ω', '2011-06-20 09:16:13.772398', '2011-06-20 09:16:13.772398')
  [1m[36mCountry Load (8.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ–∏—Ç–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ–∏—Ç–≤–∞', '2011-06-20 09:16:13.803293', '2011-06-20 09:16:13.803293')
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–õ—é–∫—Å–µ–º–±—É—Ä–≥') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–õ—é–∫—Å–µ–º–±—É—Ä–≥', '2011-06-20 09:16:13.832454', '2011-06-20 09:16:13.832454')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–≤—Ä–∏–∫–∏–π') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–≤—Ä–∏–∫–∏–π', '2011-06-20 09:16:13.859559', '2011-06-20 09:16:13.859559')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–≤—Ä–∏—Ç–∞–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–≤—Ä–∏—Ç–∞–Ω–∏—è', '2011-06-20 09:16:13.887577', '2011-06-20 09:16:13.887577')
  [1m[36mCountry Load (7.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä', '2011-06-20 09:16:13.919544', '2011-06-20 09:16:13.919544')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–π–æ—Ç—Ç–∞') LIMIT 1[0m
  [1m[35mAREL (2.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–π–æ—Ç—Ç–∞', '2011-06-20 09:16:13.947380', '2011-06-20 09:16:13.947380')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–∫–∞–æ') LIMIT 1[0m
  [1m[35mAREL (5.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–∫–∞–æ', '2011-06-20 09:16:13.978170', '2011-06-20 09:16:13.978170')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª–∞–≤–∏') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª–∞–≤–∏', '2011-06-20 09:16:14.009623', '2011-06-20 09:16:14.009623')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª–∞–π–∑–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª–∞–π–∑–∏—è', '2011-06-20 09:16:14.041694', '2011-06-20 09:16:14.041694')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª–∏') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª–∏', '2011-06-20 09:16:14.074446', '2011-06-20 09:16:14.074446')
  [1m[36mCountry Load (5.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª—ã–µ –¢–∏—Ö–æ–æ–∫–µ–∞–Ω—Å–∫–∏–µ –æ—Ç–¥–∞–ª–µ–Ω–Ω—ã–µ –æ—Å—Ç—Ä–æ–≤–∞ –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –®—Ç–∞—Ç–æ–≤') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª—ã–µ –¢–∏—Ö–æ–æ–∫–µ–∞–Ω—Å–∫–∏–µ –æ—Ç–¥–∞–ª–µ–Ω–Ω—ã–µ –æ—Å—Ç—Ä–æ–≤–∞ –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –®—Ç–∞—Ç–æ–≤', '2011-06-20 09:16:14.102468', '2011-06-20 09:16:14.102468')
  [1m[36mCountry Load (5.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª—å–¥–∏–≤—ã') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª—å–¥–∏–≤—ã', '2011-06-20 09:16:14.129124', '2011-06-20 09:16:14.129124')
  [1m[36mCountry Load (8.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞–ª—å—Ç–∞') LIMIT 1[0m
  [1m[35mAREL (5.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞–ª—å—Ç–∞', '2011-06-20 09:16:14.161069', '2011-06-20 09:16:14.161069')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞—Ä–æ–∫–∫–æ') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞—Ä–æ–∫–∫–æ', '2011-06-20 09:16:14.194590', '2011-06-20 09:16:14.194590')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞—Ä—Ç–∏–Ω–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞—Ä—Ç–∏–Ω–∏–∫–∞', '2011-06-20 09:16:14.223117', '2011-06-20 09:16:14.223117')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∞—Ä—à–∞–ª–ª–æ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (2.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∞—Ä—à–∞–ª–ª–æ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:14.254965', '2011-06-20 09:16:14.254965')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–µ–∫—Å–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–µ–∫—Å–∏–∫–∞', '2011-06-20 09:16:14.284363', '2011-06-20 09:16:14.284363')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–∏–∫—Ä–æ–Ω–µ–∑–∏—è, –§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –®—Ç–∞—Ç—ã') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–∏–∫—Ä–æ–Ω–µ–∑–∏—è, –§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –®—Ç–∞—Ç—ã', '2011-06-20 09:16:14.317862', '2011-06-20 09:16:14.317862')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–æ–∑–∞–º–±–∏–∫') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–æ–∑–∞–º–±–∏–∫', '2011-06-20 09:16:14.347956', '2011-06-20 09:16:14.347956')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–æ–ª–¥–æ–≤–∞, –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–æ–ª–¥–æ–≤–∞, –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:14.375930', '2011-06-20 09:16:14.375930')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–æ–Ω–∞–∫–æ') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–æ–Ω–∞–∫–æ', '2011-06-20 09:16:14.405408', '2011-06-20 09:16:14.405408')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–æ–Ω–≥–æ–ª–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–æ–Ω–≥–æ–ª–∏—è', '2011-06-20 09:16:14.434223', '2011-06-20 09:16:14.434223')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú–æ–Ω—Ç—Å–µ—Ä—Ä–∞—Ç') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú–æ–Ω—Ç—Å–µ—Ä—Ä–∞—Ç', '2011-06-20 09:16:14.463338', '2011-06-20 09:16:14.463338')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ú—å—è–Ω–º–∞') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ú—å—è–Ω–º–∞', '2011-06-20 09:16:14.490919', '2011-06-20 09:16:14.490919')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∞–º–∏–±–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∞–º–∏–±–∏—è', '2011-06-20 09:16:14.520875', '2011-06-20 09:16:14.520875')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∞—É—Ä—É') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∞—É—Ä—É', '2011-06-20 09:16:14.549982', '2011-06-20 09:16:14.549982')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–µ–ø–∞–ª') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–µ–ø–∞–ª', '2011-06-20 09:16:14.579674', '2011-06-20 09:16:14.579674')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏–≥–µ—Ä') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏–≥–µ—Ä', '2011-06-20 09:16:14.606231', '2011-06-20 09:16:14.606231')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏–≥–µ—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏–≥–µ—Ä–∏—è', '2011-06-20 09:16:14.637492', '2011-06-20 09:16:14.637492')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—Å–∫–∏–µ –ê–Ω—Ç–∏–ª—ã') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—Å–∫–∏–µ –ê–Ω—Ç–∏–ª—ã', '2011-06-20 09:16:14.666339', '2011-06-20 09:16:14.666339')
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', '2011-06-20 09:16:14.698530', '2011-06-20 09:16:14.698530')
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏–∫–∞—Ä–∞–≥—É–∞') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏–∫–∞—Ä–∞–≥—É–∞', '2011-06-20 09:16:14.729327', '2011-06-20 09:16:14.729327')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–∏—É—ç') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–∏—É—ç', '2011-06-20 09:16:14.757939', '2011-06-20 09:16:14.757939')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è', '2011-06-20 09:16:14.786577', '2011-06-20 09:16:14.786577')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–æ–≤–∞—è –ö–∞–ª–µ–¥–æ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–æ–≤–∞—è –ö–∞–ª–µ–¥–æ–Ω–∏—è', '2011-06-20 09:16:14.814737', '2011-06-20 09:16:14.814737')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ù–æ—Ä–≤–µ–≥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ù–æ—Ä–≤–µ–≥–∏—è', '2011-06-20 09:16:14.843959', '2011-06-20 09:16:14.843959')
  [1m[36mCountry Load (5.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –ê—Ä–∞–±—Å–∫–∏–µ –≠–º–∏—Ä–∞—Ç—ã') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –ê—Ä–∞–±—Å–∫–∏–µ –≠–º–∏—Ä–∞—Ç—ã', '2011-06-20 09:16:14.872509', '2011-06-20 09:16:14.872509')
  [1m[36mCountry Load (8.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û–º–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û–º–∞–Ω', '2011-06-20 09:16:14.904629', '2011-06-20 09:16:14.904629')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –ë—É–≤–µ') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –ë—É–≤–µ', '2011-06-20 09:16:14.935017', '2011-06-20 09:16:14.935017')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –ö–ª–∏–ø–ø–µ—Ä—Ç–æ–Ω') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –ö–ª–∏–ø–ø–µ—Ä—Ç–æ–Ω', '2011-06-20 09:16:14.963351', '2011-06-20 09:16:14.963351')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –ú—ç–Ω') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –ú—ç–Ω', '2011-06-20 09:16:15.089609', '2011-06-20 09:16:15.089609')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –ù–æ—Ä—Ñ–æ–ª–∫') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –ù–æ—Ä—Ñ–æ–ª–∫', '2011-06-20 09:16:15.120465', '2011-06-20 09:16:15.120465')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –†–æ–∂–¥–µ—Å—Ç–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –†–æ–∂–¥–µ—Å—Ç–≤–∞', '2011-06-20 09:16:15.149939', '2011-06-20 09:16:15.149939')
  [1m[36mCountry Load (8.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –°–≤—è—Ç–æ–≥–æ –ú–∞—Ä—Ç–∏–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –°–≤—è—Ç–æ–≥–æ –ú–∞—Ä—Ç–∏–Ω–∞', '2011-06-20 09:16:15.181386', '2011-06-20 09:16:15.181386')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤ –•–µ—Ä–¥ –∏ –æ—Å—Ç—Ä–æ–≤–∞ –ú–∞–∫–¥–æ–Ω–∞–ª—å–¥') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤ –•–µ—Ä–¥ –∏ –æ—Å—Ç—Ä–æ–≤–∞ –ú–∞–∫–¥–æ–Ω–∞–ª—å–¥', '2011-06-20 09:16:15.214063', '2011-06-20 09:16:15.214063')
  [1m[36mCountry Load (8.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤–∞ –ö–∞–π–º–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (4.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤–∞ –ö–∞–π–º–∞–Ω', '2011-06-20 09:16:15.245048', '2011-06-20 09:16:15.245048')
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤–∞ –ö—É–∫–∞') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤–∞ –ö—É–∫–∞', '2011-06-20 09:16:15.276694', '2011-06-20 09:16:15.276694')
  [1m[36mCountry Load (8.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–û—Å—Ç—Ä–æ–≤–∞ –¢–µ—Ä–∫—Å –∏ –ö–∞–π–∫–æ—Å') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–û—Å—Ç—Ä–æ–≤–∞ –¢–µ—Ä–∫—Å –∏ –ö–∞–π–∫–æ—Å', '2011-06-20 09:16:15.307556', '2011-06-20 09:16:15.307556')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–∫–∏—Å—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (5.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–∫–∏—Å—Ç–∞–Ω', '2011-06-20 09:16:15.340587', '2011-06-20 09:16:15.340587')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–ª–∞—É') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–ª–∞—É', '2011-06-20 09:16:15.375134', '2011-06-20 09:16:15.375134')
  [1m[36mCountry Load (6.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–ª–µ—Å—Ç–∏–Ω—Å–∫–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è, –æ–∫–∫—É–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–ª–µ—Å—Ç–∏–Ω—Å–∫–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è, –æ–∫–∫—É–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è', '2011-06-20 09:16:15.401900', '2011-06-20 09:16:15.401900')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–Ω–∞–º–∞') LIMIT 1[0m
  [1m[35mAREL (3.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–Ω–∞–º–∞', '2011-06-20 09:16:15.435797', '2011-06-20 09:16:15.435797')
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–ø—Å–∫–∏–π –ü—Ä–µ—Å—Ç–æ–ª (–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ &mdash; –≥–æ—Ä–æ–¥ –í–∞—Ç–∏–∫–∞–Ω)') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–ø—Å–∫–∏–π –ü—Ä–µ—Å—Ç–æ–ª (–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ &mdash; –≥–æ—Ä–æ–¥ –í–∞—Ç–∏–∫–∞–Ω)', '2011-06-20 09:16:15.468488', '2011-06-20 09:16:15.468488')
  [1m[36mCountry Load (10.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞–ø—É–∞-–ù–æ–≤–∞—è –ì–≤–∏–Ω–µ—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞–ø—É–∞-–ù–æ–≤–∞—è –ì–≤–∏–Ω–µ—è', '2011-06-20 09:16:15.505854', '2011-06-20 09:16:15.505854')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∞—Ä–∞–≥–≤–∞–π') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∞—Ä–∞–≥–≤–∞–π', '2011-06-20 09:16:15.537652', '2011-06-20 09:16:15.537652')
  [1m[36mCountry Load (5.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–µ—Ä—É') LIMIT 1[0m
  [1m[35mAREL (3.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–µ—Ä—É', '2011-06-20 09:16:15.567471', '2011-06-20 09:16:15.567471')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–∏—Ç–∫–µ—Ä–Ω') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–∏—Ç–∫–µ—Ä–Ω', '2011-06-20 09:16:15.599087', '2011-06-20 09:16:15.599087')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–æ–ª—å—à–∞') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–æ–ª—å—à–∞', '2011-06-20 09:16:15.626775', '2011-06-20 09:16:15.626775')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è', '2011-06-20 09:16:15.656727', '2011-06-20 09:16:15.656727')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ü—É—ç—Ä—Ç–æ-–†–∏–∫–æ') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ü—É—ç—Ä—Ç–æ-–†–∏–∫–æ', '2011-06-20 09:16:15.688075', '2011-06-20 09:16:15.688075')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞–∫–µ–¥–æ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞–∫–µ–¥–æ–Ω–∏—è', '2011-06-20 09:16:15.718512', '2011-06-20 09:16:15.718512')
  [1m[36mCountry Load (10.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–†–µ—é–Ω—å–æ–Ω') LIMIT 1[0m
  [1m[35mAREL (6.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–†–µ—é–Ω—å–æ–Ω', '2011-06-20 09:16:15.774843', '2011-06-20 09:16:15.774843')
  [1m[36mCountry Load (7.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–†–æ—Å—Å–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–†–æ—Å—Å–∏—è', '2011-06-20 09:16:15.817106', '2011-06-20 09:16:15.817106')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–†—É–∞–Ω–¥–∞') LIMIT 1[0m
  [1m[35mAREL (3.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–†—É–∞–Ω–¥–∞', '2011-06-20 09:16:15.845915', '2011-06-20 09:16:15.845915')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–†—É–º—ã–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–†—É–º—ã–Ω–∏—è', '2011-06-20 09:16:15.876597', '2011-06-20 09:16:15.876597')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∞–º–æ–∞') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∞–º–æ–∞', '2011-06-20 09:16:15.903867', '2011-06-20 09:16:15.903867')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∞–Ω-–ú–∞—Ä–∏–Ω–æ') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∞–Ω-–ú–∞—Ä–∏–Ω–æ', '2011-06-20 09:16:15.945453', '2011-06-20 09:16:15.945453')
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∞–Ω-–¢–æ–º–µ –∏ –ü—Ä–∏–Ω—Å–∏–ø–∏') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∞–Ω-–¢–æ–º–µ –∏ –ü—Ä–∏–Ω—Å–∏–ø–∏', '2011-06-20 09:16:15.977542', '2011-06-20 09:16:15.977542')
  [1m[36mCountry Load (8.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è', '2011-06-20 09:16:16.011082', '2011-06-20 09:16:16.011082')
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–≤–∞–∑–∏–ª–µ–Ω–¥') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–≤–∞–∑–∏–ª–µ–Ω–¥', '2011-06-20 09:16:16.041275', '2011-06-20 09:16:16.041275')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–≤—è—Ç–∞—è –ï–ª–µ–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (2.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–≤—è—Ç–∞—è –ï–ª–µ–Ω–∞', '2011-06-20 09:16:16.072032', '2011-06-20 09:16:16.072032')
  [1m[36mCountry Load (5.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–≤–µ—Ä–Ω–∞—è –ö–æ—Ä–µ—è') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–≤–µ—Ä–Ω–∞—è –ö–æ—Ä–µ—è', '2011-06-20 09:16:16.097148', '2011-06-20 09:16:16.097148')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–≤–µ—Ä–Ω—ã–µ –ú–∞—Ä–∏–∞–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–≤–µ—Ä–Ω—ã–µ –ú–∞—Ä–∏–∞–Ω—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:16.126726', '2011-06-20 09:16:16.126726')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω-–ë–∞—Ä—Ç–µ–ª—å–º–∏') LIMIT 1[0m
  [1m[35mAREL (2.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω-–ë–∞—Ä—Ç–µ–ª—å–º–∏', '2011-06-20 09:16:16.157625', '2011-06-20 09:16:16.157625')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω-–ü—å–µ—Ä –∏ –ú–∏–∫–µ–ª–æ–Ω') LIMIT 1[0m
  [1m[35mAREL (3.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω-–ü—å–µ—Ä –∏ –ú–∏–∫–µ–ª–æ–Ω', '2011-06-20 09:16:16.192240', '2011-06-20 09:16:16.192240')
  [1m[36mCountry Load (5.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω–µ–≥–∞–ª') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω–µ–≥–∞–ª', '2011-06-20 09:16:16.219034', '2011-06-20 09:16:16.219034')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω—Ç-–í–∏–Ω—Å–µ–Ω—Ç –∏ –ì—Ä–µ–Ω–∞–¥–∏–Ω—ã') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω—Ç-–í–∏–Ω—Å–µ–Ω—Ç –∏ –ì—Ä–µ–Ω–∞–¥–∏–Ω—ã', '2011-06-20 09:16:16.247107', '2011-06-20 09:16:16.247107')
  [1m[36mCountry Load (5.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω—Ç-–õ—é—Å–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω—Ç-–õ—é—Å–∏—è', '2011-06-20 09:16:16.274394', '2011-06-20 09:16:16.274394')
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–Ω—Ç-–ö–∏—Ç—Å –∏ –ù–µ–≤–∏—Å') LIMIT 1[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–Ω—Ç-–ö–∏—Ç—Å –∏ –ù–µ–≤–∏—Å', '2011-06-20 09:16:16.302896', '2011-06-20 09:16:16.302896')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ—Ä–±–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ—Ä–±–∏—è', '2011-06-20 09:16:16.331587', '2011-06-20 09:16:16.331587')
  [1m[36mCountry Load (5.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–µ–π—à–µ–ª—ã') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–µ–π—à–µ–ª—ã', '2011-06-20 09:16:16.361293', '2011-06-20 09:16:16.361293')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∏–Ω–≥–∞–ø—É—Ä') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∏–Ω–≥–∞–ø—É—Ä', '2011-06-20 09:16:16.391997', '2011-06-20 09:16:16.391997')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–∏—Ä–∏–π—Å–∫–∞—è –ê—Ä–∞–±—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (5.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–∏—Ä–∏–π—Å–∫–∞—è –ê—Ä–∞–±—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:16.422619', '2011-06-20 09:16:16.422619')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–ª–æ–≤–∞–∫–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–ª–æ–≤–∞–∫–∏—è', '2011-06-20 09:16:16.455843', '2011-06-20 09:16:16.455843')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–ª–æ–≤–µ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–ª–æ–≤–µ–Ω–∏—è', '2011-06-20 09:16:16.485199', '2011-06-20 09:16:16.485199')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–æ–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ', '2011-06-20 09:16:16.514347', '2011-06-20 09:16:16.514347')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã') LIMIT 1[0m
  [1m[35mAREL (3.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã', '2011-06-20 09:16:16.542823', '2011-06-20 09:16:16.542823')
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–æ–ª–æ–º–æ–Ω–æ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–æ–ª–æ–º–æ–Ω–æ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:16.572964', '2011-06-20 09:16:16.572964')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°–æ–º–∞–ª–∏') LIMIT 1[0m
  [1m[35mAREL (2.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°–æ–º–∞–ª–∏', '2011-06-20 09:16:16.599350', '2011-06-20 09:16:16.599350')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°—É–¥–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°—É–¥–∞–Ω', '2011-06-20 09:16:16.625846', '2011-06-20 09:16:16.625846')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°—É—Ä–∏–Ω–∞–º') LIMIT 1[0m
  [1m[35mAREL (5.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°—É—Ä–∏–Ω–∞–º', '2011-06-20 09:16:16.656508', '2011-06-20 09:16:16.656508')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–°—å–µ—Ä—Ä–∞-–õ–µ–æ–Ω–µ') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–°—å–µ—Ä—Ä–∞-–õ–µ–æ–Ω–µ', '2011-06-20 09:16:16.686813', '2011-06-20 09:16:16.686813')
  [1m[36mCountry Load (9.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω', '2011-06-20 09:16:16.733586', '2011-06-20 09:16:16.733586')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–∞–∏–ª–∞–Ω–¥') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–∞–∏–ª–∞–Ω–¥', '2011-06-20 09:16:16.760996', '2011-06-20 09:16:16.760996')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–∞–Ω–∑–∞–Ω–∏—è, –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–∞–Ω–∑–∞–Ω–∏—è, –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:16.790636', '2011-06-20 09:16:16.790636')
  [1m[36mCountry Load (5.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–∞–π–≤–∞–Ω—å (–ö–∏—Ç–∞–π)') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–∞–π–≤–∞–Ω—å (–ö–∏—Ç–∞–π)', '2011-06-20 09:16:16.820150', '2011-06-20 09:16:16.820150')
  [1m[36mCountry Load (4.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–∏–º–æ—Ä-–õ–µ—Å—Ç–µ') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–∏–º–æ—Ä-–õ–µ—Å—Ç–µ', '2011-06-20 09:16:16.848679', '2011-06-20 09:16:16.848679')
  [1m[36mCountry Load (7.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–æ–≥–æ') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–æ–≥–æ', '2011-06-20 09:16:16.878594', '2011-06-20 09:16:16.878594')
  [1m[36mCountry Load (7.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–æ–∫–µ–ª–∞—É') LIMIT 1[0m
  [1m[35mAREL (4.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–æ–∫–µ–ª–∞—É', '2011-06-20 09:16:16.908535', '2011-06-20 09:16:16.908535')
  [1m[36mCountry Load (21.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢–æ–Ω–≥–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢–æ–Ω–≥–∞', '2011-06-20 09:16:16.954791', '2011-06-20 09:16:16.954791')
  [1m[36mCountry Load (7.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢—Ä–∏–Ω–∏–¥–∞–¥ –∏ –¢–æ–±–∞–≥–æ') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢—Ä–∏–Ω–∏–¥–∞–¥ –∏ –¢–æ–±–∞–≥–æ', '2011-06-20 09:16:16.984972', '2011-06-20 09:16:16.984972')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢—É–≤–∞–ª—É') LIMIT 1[0m
  [1m[35mAREL (3.6ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢—É–≤–∞–ª—É', '2011-06-20 09:16:17.016509', '2011-06-20 09:16:17.016509')
  [1m[36mCountry Load (5.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢—É–Ω–∏—Å') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢—É–Ω–∏—Å', '2011-06-20 09:16:17.044074', '2011-06-20 09:16:17.044074')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢—É—Ä–∫–º–µ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢—É—Ä–∫–º–µ–Ω–∏—è', '2011-06-20 09:16:17.075519', '2011-06-20 09:16:17.075519')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¢—É—Ä—Ü–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¢—É—Ä—Ü–∏—è', '2011-06-20 09:16:17.108013', '2011-06-20 09:16:17.108013')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–£–≥–∞–Ω–¥–∞') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–£–≥–∞–Ω–¥–∞', '2011-06-20 09:16:17.135980', '2011-06-20 09:16:17.135980')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω') LIMIT 1[0m
  [1m[35mAREL (5.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', '2011-06-20 09:16:17.164568', '2011-06-20 09:16:17.164568')
  [1m[36mCountry Load (6.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–£–∫—Ä–∞–∏–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–£–∫—Ä–∞–∏–Ω–∞', '2011-06-20 09:16:17.199013', '2011-06-20 09:16:17.199013')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–£–æ–ª–ª–∏—Å –∏ –§—É—Ç—É–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–£–æ–ª–ª–∏—Å –∏ –§—É—Ç—É–Ω–∞', '2011-06-20 09:16:17.230113', '2011-06-20 09:16:17.230113')
  [1m[36mCountry Load (6.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–£—Ä—É–≥–≤–∞–π') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–£—Ä—É–≥–≤–∞–π', '2011-06-20 09:16:17.259861', '2011-06-20 09:16:17.259861')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§–∞—Ä–µ—Ä—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§–∞—Ä–µ—Ä—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:17.290411', '2011-06-20 09:16:17.290411')
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§–∏–¥–∂–∏') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§–∏–¥–∂–∏', '2011-06-20 09:16:17.321126', '2011-06-20 09:16:17.321126')
  [1m[36mCountry Load (7.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§–∏–ª–∏–ø–ø–∏–Ω—ã') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§–∏–ª–∏–ø–ø–∏–Ω—ã', '2011-06-20 09:16:17.351410', '2011-06-20 09:16:17.351410')
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§–∏–Ω–ª—è–Ω–¥–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§–∏–Ω–ª—è–Ω–¥–∏—è', '2011-06-20 09:16:17.382572', '2011-06-20 09:16:17.382572')
  [1m[36mCountry Load (5.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§–æ–ª–∫–ª–µ–Ω–¥—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞ (–ú–∞–ª—å–≤–∏–Ω—Å–∫–∏–µ)') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§–æ–ª–∫–ª–µ–Ω–¥—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞ (–ú–∞–ª—å–≤–∏–Ω—Å–∫–∏–µ)', '2011-06-20 09:16:17.412169', '2011-06-20 09:16:17.412169')
  [1m[36mCountry Load (5.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§—Ä–∞–Ω—Ü–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§—Ä–∞–Ω—Ü–∏—è', '2011-06-20 09:16:17.443009', '2011-06-20 09:16:17.443009')
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ì–≤–∏–∞–Ω–∞') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ì–≤–∏–∞–Ω–∞', '2011-06-20 09:16:17.471825', '2011-06-20 09:16:17.471825')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ü–æ–ª–∏–Ω–µ–∑–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ü–æ–ª–∏–Ω–µ–∑–∏—è', '2011-06-20 09:16:17.501560', '2011-06-20 09:16:17.501560')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ –Æ–∂–Ω—ã–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏') LIMIT 1[0m
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ –Æ–∂–Ω—ã–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏', '2011-06-20 09:16:17.532890', '2011-06-20 09:16:17.532890')
  [1m[36mCountry Load (5.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–•–æ—Ä–≤–∞—Ç–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–•–æ—Ä–≤–∞—Ç–∏—è', '2011-06-20 09:16:17.560510', '2011-06-20 09:16:17.560510')
  [1m[36mCountry Load (6.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ-–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ-–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:17.589225', '2011-06-20 09:16:17.589225')
  [1m[36mCountry Load (5.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ß–∞–¥') LIMIT 1[0m
  [1m[35mAREL (4.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ß–∞–¥', '2011-06-20 09:16:17.617222', '2011-06-20 09:16:17.617222')
  [1m[36mCountry Load (6.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ß–µ—Ä–Ω–æ–≥–æ—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.1ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ß–µ—Ä–Ω–æ–≥–æ—Ä–∏—è', '2011-06-20 09:16:17.648923', '2011-06-20 09:16:17.648923')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ß–µ—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ß–µ—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞', '2011-06-20 09:16:17.680221', '2011-06-20 09:16:17.680221')
  [1m[36mCountry Load (6.7ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–ß–∏–ª–∏') LIMIT 1[0m
  [1m[35mAREL (2.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–ß–∏–ª–∏', '2011-06-20 09:16:17.708468', '2011-06-20 09:16:17.708468')
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–®–≤–µ–π—Ü–∞—Ä–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–®–≤–µ–π—Ü–∞—Ä–∏—è', '2011-06-20 09:16:17.738529', '2011-06-20 09:16:17.738529')
  [1m[36mCountry Load (5.6ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–®–≤–µ—Ü–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–®–≤–µ—Ü–∏—è', '2011-06-20 09:16:17.764032', '2011-06-20 09:16:17.764032')
  [1m[36mCountry Load (5.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–®–ø–∏—Ü–±–µ—Ä–≥–µ–Ω –∏ –Ø–Ω –ú–∞–π–µ–Ω') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–®–ø–∏—Ü–±–µ—Ä–≥–µ–Ω –∏ –Ø–Ω –ú–∞–π–µ–Ω', '2011-06-20 09:16:17.789954', '2011-06-20 09:16:17.789954')
  [1m[36mCountry Load (8.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–®—Ä–∏-–õ–∞–Ω–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–®—Ä–∏-–õ–∞–Ω–∫–∞', '2011-06-20 09:16:17.815637', '2011-06-20 09:16:17.815637')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠–∫–≤–∞–¥–æ—Ä') LIMIT 1[0m
  [1m[35mAREL (2.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠–∫–≤–∞–¥–æ—Ä', '2011-06-20 09:16:17.845147', '2011-06-20 09:16:17.845147')
  [1m[36mCountry Load (7.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠–∫–≤–∞—Ç–æ—Ä–∏–∞–ª—å–Ω–∞—è –ì–≤–∏–Ω–µ—è') LIMIT 1[0m
  [1m[35mAREL (3.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠–∫–≤–∞—Ç–æ—Ä–∏–∞–ª—å–Ω–∞—è –ì–≤–∏–Ω–µ—è', '2011-06-20 09:16:17.870457', '2011-06-20 09:16:17.870457')
  [1m[36mCountry Load (7.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠–ª–∞–Ω–¥—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠–ª–∞–Ω–¥—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:17.900805', '2011-06-20 09:16:17.900805')
  [1m[36mCountry Load (7.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠–ª—å-–°–∞–ª—å–≤–∞–¥–æ—Ä') LIMIT 1[0m
  [1m[35mAREL (3.5ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠–ª—å-–°–∞–ª—å–≤–∞–¥–æ—Ä', '2011-06-20 09:16:17.928767', '2011-06-20 09:16:17.928767')
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠—Ä–∏—Ç—Ä–µ—è') LIMIT 1[0m
  [1m[35mAREL (3.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠—Ä–∏—Ç—Ä–µ—è', '2011-06-20 09:16:17.958302', '2011-06-20 09:16:17.958302')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠—Å—Ç–æ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠—Å—Ç–æ–Ω–∏—è', '2011-06-20 09:16:17.987354', '2011-06-20 09:16:17.987354')
  [1m[36mCountry Load (6.8ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–≠—Ñ–∏–æ–ø–∏—è') LIMIT 1[0m
  [1m[35mAREL (3.8ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–≠—Ñ–∏–æ–ø–∏—è', '2011-06-20 09:16:18.014469', '2011-06-20 09:16:18.014469')
  [1m[36mCountry Load (5.3ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–Æ–∂–Ω–∞—è –ê—Ñ—Ä–∏–∫–∞') LIMIT 1[0m
  [1m[35mAREL (2.9ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–Æ–∂–Ω–∞—è –ê—Ñ—Ä–∏–∫–∞', '2011-06-20 09:16:18.042921', '2011-06-20 09:16:18.042921')
  [1m[36mCountry Load (5.9ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–Æ–∂–Ω–∞—è –î–∂–æ—Ä–¥–∂–∏—è –∏ –Æ–∂–Ω—ã–µ –°–∞–Ω–¥–≤–∏—á–µ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞') LIMIT 1[0m
  [1m[35mAREL (4.0ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–Æ–∂–Ω–∞—è –î–∂–æ—Ä–¥–∂–∏—è –∏ –Æ–∂–Ω—ã–µ –°–∞–Ω–¥–≤–∏—á–µ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞', '2011-06-20 09:16:18.070468', '2011-06-20 09:16:18.070468')
  [1m[36mCountry Load (7.1ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–Æ–∂–Ω–∞—è –ö–æ—Ä–µ—è') LIMIT 1[0m
  [1m[35mAREL (4.4ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–Æ–∂–Ω–∞—è –ö–æ—Ä–µ—è', '2011-06-20 09:16:18.101760', '2011-06-20 09:16:18.101760')
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–Ø–º–∞–π–∫–∞') LIMIT 1[0m
  [1m[35mAREL (4.7ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–Ø–º–∞–π–∫–∞', '2011-06-20 09:16:18.132872', '2011-06-20 09:16:18.132872')
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries"."id" FROM "countries" WHERE ("countries"."name" = '–Ø–ø–æ–Ω–∏—è') LIMIT 1[0m
  [1m[35mAREL (4.2ms)[0m  INSERT INTO "countries" ("name", "updated_at", "created_at") VALUES ('–Ø–ø–æ–Ω–∏—è', '2011-06-20 09:16:18.165609', '2011-06-20 09:16:18.165609')
  [1m[36mSQL (5.9ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mGenre Load (0.1ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ë–æ–µ–≤–∏–∫') LIMIT 1
  [1m[36mAREL (2.3ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.213251', '2011-06-20 09:16:18.213251', '–ë–æ–µ–≤–∏–∫')[0m
  [1m[35mGenre Load (6.1ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–í–µ—Å—Ç–µ—Ä–Ω') LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.245631', '2011-06-20 09:16:18.245631', '–í–µ—Å—Ç–µ—Ä–Ω')[0m
  [1m[35mGenre Load (6.3ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–î–µ—Ç–µ–∫—Ç–∏–≤') LIMIT 1
  [1m[36mAREL (3.8ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.277099', '2011-06-20 09:16:18.277099', '–î–µ—Ç–µ–∫—Ç–∏–≤')[0m
  [1m[35mGenre Load (7.1ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–î—Ä–∞–º–∞') LIMIT 1
  [1m[36mAREL (3.6ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.309189', '2011-06-20 09:16:18.309189', '–î—Ä–∞–º–∞')[0m
  [1m[35mGenre Load (6.6ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ö–æ–º–µ–¥–∏—è') LIMIT 1
  [1m[36mAREL (2.7ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.340279', '2011-06-20 09:16:18.340279', '–ö–æ–º–µ–¥–∏—è')[0m
  [1m[35mGenre Load (14.7ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ö–æ–º–∏–∫—Å') LIMIT 1
  [1m[36mAREL (3.9ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.378055', '2011-06-20 09:16:18.378055', '–ö–æ–º–∏–∫—Å')[0m
  [1m[35mGenre Load (5.2ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ú–µ–ª–æ–¥—Ä–∞–º–∞') LIMIT 1
  [1m[36mAREL (3.7ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.462091', '2011-06-20 09:16:18.462091', '–ú–µ–ª–æ–¥—Ä–∞–º–∞')[0m
  [1m[35mGenre Load (6.4ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ú–∏—Å—Ç–∏–∫–∞') LIMIT 1
  [1m[36mAREL (3.5ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.496630', '2011-06-20 09:16:18.496630', '–ú–∏—Å—Ç–∏–∫–∞')[0m
  [1m[35mGenre Load (8.3ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ú—É–ª—å—Ç—Ñ–∏–ª—å–º') LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.530518', '2011-06-20 09:16:18.530518', '–ú—É–ª—å—Ç—Ñ–∏–ª—å–º')[0m
  [1m[35mGenre Load (6.3ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ü–æ–ª–∏—Ç–∏–∫–∞') LIMIT 1
  [1m[36mAREL (6.4ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.560916', '2011-06-20 09:16:18.560916', '–ü–æ–ª–∏—Ç–∏–∫–∞')[0m
  [1m[35mGenre Load (9.5ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è') LIMIT 1
  [1m[36mAREL (5.3ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.605314', '2011-06-20 09:16:18.605314', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è')[0m
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–¢—Ä–∏–ª–ª–µ—Ä') LIMIT 1
  [1m[36mAREL (3.5ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.645648', '2011-06-20 09:16:18.645648', '–¢—Ä–∏–ª–ª–µ—Ä')[0m
  [1m[35mGenre Load (6.0ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–£–∂–∞—Å—Ç–∏–∫') LIMIT 1
  [1m[36mAREL (3.1ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.675999', '2011-06-20 09:16:18.675999', '–£–∂–∞—Å—Ç–∏–∫')[0m
  [1m[35mGenre Load (7.3ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞') LIMIT 1
  [1m[36mAREL (3.7ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.706349', '2011-06-20 09:16:18.706349', '–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞')[0m
  [1m[35mGenre Load (8.4ms)[0m  SELECT "genres"."id" FROM "genres" WHERE ("genres"."name" = '–§—ç–Ω—Ç–µ–∑–∏') LIMIT 1
  [1m[36mAREL (4.3ms)[0m  [1mINSERT INTO "genres" ("created_at", "updated_at", "name") VALUES ('2011-06-20 09:16:18.743233', '2011-06-20 09:16:18.743233', '–§—ç–Ω—Ç–µ–∑–∏')[0m
  [1m[35mSQL (7.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (5.2ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:18.818771', '–î–∂–µ–π–º—Å –ö—ç–º–µ—Ä–æ–Ω', '1954-08-16', 't', NULL, NULL, NULL, 'James Cameron', '2011-06-20 09:16:18.818771', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (13.3ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:18.857787', '–ê—Ä–Ω–æ–ª—å–¥ –®–≤–∞—Ä—Ü–µ–Ω–µ–≥–≥–µ—Ä', '1947-07-30', 't', NULL, NULL, NULL, 'Arnold Schwarzenegger', '2011-06-20 09:16:18.857787', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.3ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:18.894997', '–õ–∏–Ω–¥–∞ –•—ç–º–∏–ª—Ç–æ–Ω', '1956-09-26', 'f', NULL, NULL, NULL, 'Linda Hamilton', '2011-06-20 09:16:18.894997', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (9.7ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.017850', '–õ–µ–æ–Ω–∞—Ä–¥–æ –î–∏–ö–∞–ø—Ä–∏–æ', '1974-11-11', 't', NULL, NULL, NULL, 'Leonardo DiCaprio', '2011-06-20 09:16:19.017850', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.9ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.052105', '–ö—ç–π—Ç –£–∏–Ω—Å–ª–µ—Ç', '1975-11-05', 'f', NULL, NULL, NULL, 'Kate Winslet', '2011-06-20 09:16:19.052105', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.1ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.085494', '–í–∏–Ω –î–∏–∑–µ–ª—å', '1967-07-18', 'f', NULL, NULL, NULL, 'Vin Disel', '2011-06-20 09:16:19.085494', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (10.0ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.120023', '–ì–∞–π –†–∏—á–∏', '1968-09-10', 'f', NULL, NULL, NULL, 'Guy Ritchie', '2011-06-20 09:16:19.120023', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (11.5ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.154226', '–î–∂–µ–π—Å–æ–Ω –°—Ç—ç—Ç—Ö—ç–º', '1967-09-12', 'f', NULL, NULL, NULL, 'Jason Statham', '2011-06-20 09:16:19.154226', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (12.1ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.189412', '–†–æ–±–µ—Ä—Ç –ü–∞—Ç—Ç–∏–Ω—Å–æ–Ω', '1986-05-12', 'f', NULL, NULL, NULL, 'Robert Pattinson', '2011-06-20 09:16:19.189412', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.8ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.226511', '–î–∂–µ–º–º–∞ –ê—Ä—Ç–µ—Ä—Ç–æ–Ω', '1986-01-12', 't', NULL, NULL, NULL, 'Gemma Arterton', '2011-06-20 09:16:19.226511', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.8ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.263996', '–î–∂–µ–π–∫ –î–∂–∏–ª–ª–µ–Ω—Ö–æ–ª', '1980-12-19', 'f', NULL, NULL, NULL, 'Jake Gyllenhaal', '2011-06-20 09:16:19.263996', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (27.3ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.297441', '–°–µ—Ä–≥–µ–π –°–≤–µ—Ç–ª–∞–∫–æ–≤', '1977-12-12', 'f', NULL, NULL, NULL, '', '2011-06-20 09:16:19.297441', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (11.7ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.348965', '–ú–∏–ª–ª–∞ –ô–æ–≤–æ–≤–∏—á', '1975-12-17', 't', NULL, NULL, NULL, 'Milla Jovovich', '2011-06-20 09:16:19.348965', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (11.3ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.383862', '–≠–ª–∏ –õ–∞—Ä—Ç–µ—Ä', '1976-02-28', 't', NULL, NULL, NULL, 'Ali Larter', '2011-06-20 09:16:19.383862', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.2ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.418224', '–î–∂–µ–∫–∏ –ß–∞–Ω', '1954-04-07', 'f', NULL, NULL, NULL, 'Jackie Chan', '2011-06-20 09:16:19.418224', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.1ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.450801', '–î–æ–ª—å—Ñ –õ—É–Ω–¥–≥—Ä–µ–Ω', '1957-11-03', 'f', NULL, NULL, NULL, 'Dolph Lundgren', '2011-06-20 09:16:19.450801', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.0ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.484802', '–°–∏–ª—å–≤–µ—Å—Ç–µ—Ä –°—Ç–∞–ª–ª–æ–Ω–µ', '1946-07-06', 'f', NULL, NULL, NULL, 'Sylvester Stallone', '2011-06-20 09:16:19.484802', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.9ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.515632', '–ñ–µ—Ä–∞—Ä –î–µ–ø–∞—Ä–¥—å–µ', '1948-12-27', 'f', NULL, NULL, NULL, 'Gerard Depardieu', '2011-06-20 09:16:19.515632', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (10.2ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.550376', '–ú–∏–∫–∫–∏ –†—É—Ä–∫', '1952-09-16', 'f', NULL, NULL, NULL, 'Mickey Rourke', '2011-06-20 09:16:19.550376', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (12.5ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.582891', '–î–∂–æ—Ä–¥–∂ –ö–ª—É–Ω–∏', '1961-05-06', 'f', NULL, NULL, NULL, 'George Clooney', '2011-06-20 09:16:19.582891', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (9.9ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.618043', '–ë—Ä—ç–¥ –ü–∏—Ç—Ç', '1963-12-18', 'f', NULL, NULL, NULL, 'Brad Pitt', '2011-06-20 09:16:19.618043', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.2ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.651601', '–î–∂—É–ª–∏—è –†–æ–±–µ—Ä—Ç—Å', '1967-10-28', 't', NULL, NULL, NULL, 'Julia Roberts', '2011-06-20 09:16:19.651601', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (12.2ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.685793', '–î–∂–æ–Ω–Ω–∏ –î–µ–ø–ø', '1963-06-09', 'f', NULL, NULL, NULL, 'Johnny Depp', '2011-06-20 09:16:19.685793', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (10.4ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.720323', '–û—Ä–ª–∞–Ω–¥–æ –ë–ª—É–º', '1977-01-13', 'f', NULL, NULL, NULL, 'Orlando Bloom', '2011-06-20 09:16:19.720323', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (10.2ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.753902', '–ì–æ—Ä –í–µ—Ä–±–∏–Ω—Å–∫–∏', '1964-03-16', 'f', NULL, NULL, NULL, 'Gore Verbinski', '2011-06-20 09:16:19.753902', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mAREL (8.8ms)[0m  INSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.787454', '–î—ç–Ω–Ω–∏ –ö—ç–Ω–Ω–æ–Ω', '1968-03-16', 'f', NULL, NULL, NULL, 'Danny Cannon', '2011-06-20 09:16:19.787454', NULL)
[paperclip] Saving attachments.
  [1m[36mAREL (10.6ms)[0m  [1mINSERT INTO "people" ("created_at", "name", "birthday", "male", "avatar_file_name", "avatar_file_size", "avatar_updated_at", "origin_name", "updated_at", "avatar_content_type") VALUES ('2011-06-20 09:16:19.819178', '–õ–µ–æ–Ω–∞—Ä–¥–æ –ì—É–µ—Ä—Ä–∞', '1985-08-10', 'f', NULL, NULL, NULL, 'Leonardo Guerra', '2011-06-20 09:16:19.819178', NULL)[0m
[paperclip] Saving attachments.
  [1m[35mGenre Load (8.5ms)[0m  SELECT "genres".* FROM "genres" WHERE "genres"."name" = '–ë–æ–µ–≤–∏–∫' ORDER BY name LIMIT 1
  [1m[36mSQL (7.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (3.7ms)[0m  INSERT INTO "films" ("origin_name", "genre_id", "director_id", "country_id", "trailer_url", "cover_file_size", "name", "cover_content_type", "updated_at", "cover_file_name", "year", "slogan", "cover_updated_at", "length", "created_at", "description") VALUES ('Terminator 2: Judgment Day', 1, 1, 194, 'oL1RE8JXaIw', NULL, '–¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä 2: –°—É–¥–Ω—ã–π –¥–µ–Ω—å', NULL, '2011-06-20 09:16:19.917927', NULL, 1991, 'Same Make. Same Model. New Mission.', NULL, 137, '2011-06-20 09:16:19.917927', '–ü—Ä–æ—à–ª–æ –±–æ–ª–µ–µ –¥–µ—Å—è—Ç–∏ –ª–µ—Ç —Å —Ç–µ—Ö –ø–æ—Ä, –∫–∞–∫ –∫–∏–±–æ—Ä–≥-—Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –∏–∑ 2029 –≥–æ–¥–∞ –ø—ã—Ç–∞–ª—Å—è —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –°–∞—Ä—É –ö–æ–Ω–Ω–æ—Ä ‚Äî –∂–µ–Ω—â–∏–Ω—É, —á–µ–π –±—É–¥—É—â–∏–π —Å—ã–Ω –≤—ã–∏–≥—Ä–∞–µ—Ç –≤–æ–π–Ω—É —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–∏–≤ –º–∞—à–∏–Ω.

–¢–µ–ø–µ—Ä—å —É –°–∞—Ä—ã —Ä–æ–¥–∏–ª—Å—è —Å—ã–Ω –î–∂–æ–Ω –∏ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ–≤–µ–¥—ë—Ç –∑–∞ —Å–æ–±–æ–π –≤—ã–∂–∏–≤—à–∏—Ö –ª—é–¥–µ–π –Ω–∞ –±–æ—Ä—å–±—É —Å –º–∞—à–∏–Ω–∞–º–∏, –Ω–µ—É–º–æ–ª–∏–º–æ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è. –ò–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏–∑ –ø–æ—Å—Ç-–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—É–¥—É—â–µ–≥–æ –ø—Ä–∏–±—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ—É—è–∑–≤–∏–º—ã–π –∏ —Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–µ –æ–±–ª–∏—á–∏–µ. –¶–µ–ª—å –Ω–æ–≤–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä–∞ —É–∂–µ –Ω–µ –°–∞—Ä–∞, –∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –º–æ–ª–æ–¥–æ–≥–æ –î–∂–æ–Ω–∞ –ö–æ–Ω–Ω–æ—Ä–∞.

–û–¥–Ω–∞–∫–æ, —à–∞–Ω—Å—ã –î–∂–æ–Ω–∞ –Ω–∞ —Å–ø–∞—Å–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—à–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–∞ –ø–æ–º–æ—â—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è. –û–±–∞ –∫–∏–±–æ—Ä–≥–∞ –≤—Å—Ç—É–ø–∞—é—Ç –≤ —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–π –±–æ–π, –æ—Ç –∏—Å—Ö–æ–¥–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç —Å—É–¥—å–±–∞ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞.
')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "films_people" ("film_id", "person_id") VALUES (1, 2)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "films_people" ("person_id", "film_id") VALUES (3, 1)
[paperclip] Saving attachments.
  [1m[36mGenre Load (7.0ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE "genres"."name" = '–î—Ä–∞–º–∞' ORDER BY name LIMIT 1[0m
  [1m[35mAREL (12.1ms)[0m  INSERT INTO "films" ("origin_name", "genre_id", "director_id", "country_id", "trailer_url", "cover_file_size", "name", "cover_content_type", "updated_at", "cover_file_name", "year", "slogan", "cover_updated_at", "length", "created_at", "description") VALUES ('Titanic', 4, 1, 194, 'zCy5WQ9S4c0', NULL, '–¢–∏—Ç–∞–Ω–∏–∫', NULL, '2011-06-20 09:16:19.972196', NULL, 1997, '–ù–∏—á—Ç–æ –Ω–∞ –ó–µ–º–ª–µ –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–∑–ª—É—á–∏—Ç—å –∏—Ö.', NULL, 194, '2011-06-20 09:16:19.972196', '–ú–æ–ª–æ–¥—ã–µ –≤–ª—é–±–ª–µ–Ω–Ω—ã–µ –î–∂–µ–∫ –∏ –†–æ–∑–∞ –Ω–∞—Ö–æ–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –ø–µ—Ä–≤–æ–º –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø–ª–∞–≤–∞–Ω–∏–∏ ¬´–Ω–µ–ø–æ—Ç–æ–ø–ª—è–µ–º–æ–≥–æ¬ª –¢–∏—Ç–∞–Ω–∏–∫–∞. –û–Ω–∏ –Ω–µ –º–æ–≥–ª–∏ –∑–Ω–∞—Ç—å, —á—Ç–æ —à–∏–∫–∞—Ä–Ω—ã–π –ª–∞–π–Ω–µ—Ä —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —Å –∞–π—Å–±–µ—Ä–≥–æ–º –≤ —Ö–æ–ª–æ–¥–Ω—ã—Ö –≤–æ–¥–∞—Ö –°–µ–≤–µ—Ä–Ω–æ–π –ê—Ç–ª–∞–Ω—Ç–∏–∫–∏, –∏ –∏—Ö —Å—Ç—Ä–∞—Å—Ç–Ω–∞—è –ª—é–±–æ–≤—å –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ —Å—Ö–≤–∞—Ç–∫—É —Å–æ —Å–º–µ—Ä—Ç—å—é‚Ä¶
')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films_people" ("person_id", "film_id") VALUES (4, 2)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "films_people" ("person_id", "film_id") VALUES (5, 2)
[paperclip] Saving attachments.


Started GET "/" for 127.0.0.1 at Mon Jun 20 13:17:07 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[36mFilm Load (8.8ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (125.4ms)
Rendered films/_film.html.haml (7.3ms)
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (18.1ms)
Rendered layouts/_menu.haml (10.4ms)
  [1m[36mGenre Load (18.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (90.5ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/index.html.haml within layouts/application (378.1ms)
Completed 200 OK in 574ms (Views: 385.4ms | ActiveRecord: 32.7ms)


Started GET "/people" for 127.0.0.1 at Mon Jun 20 13:17:15 +0400 2011
  Processing by PeopleController#index as HTML
  [1m[35mPerson Load (12.8ms)[0m  SELECT "people".* FROM "people" LIMIT 25 OFFSET 0
Rendered people/_person.html.haml (22.2ms)
Rendered people/_person.html.haml (8.9ms)
Rendered people/_person.html.haml (7.0ms)
Rendered people/_person.html.haml (6.7ms)
Rendered people/_person.html.haml (6.7ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.6ms)
Rendered people/_person.html.haml (6.6ms)
Rendered people/_person.html.haml (6.9ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.9ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (7.0ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (7.5ms)
Rendered people/_person.html.haml (6.7ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (7.1ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (6.8ms)
Rendered people/_person.html.haml (7.0ms)
Rendered people/_person.html.haml (6.7ms)
  [1m[36mSQL (5.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (10.0ms)
  [1m[35mGenre Load (6.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (55.7ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered people/index.html.haml within layouts/application (649.3ms)
Completed 200 OK in 804ms (Views: 731.3ms | ActiveRecord: 24.8ms)


Started GET "/people?page=2" for 127.0.0.1 at Mon Jun 20 13:17:23 +0400 2011
  Processing by PeopleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mPerson Load (12.8ms)[0m  [1mSELECT "people".* FROM "people" LIMIT 25 OFFSET 25[0m
Rendered people/_person.html.haml (22.0ms)
Rendered people/_person.html.haml (7.0ms)
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "people"
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (10.0ms)
  [1m[36mGenre Load (10.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (58.2ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered people/index.html.haml within layouts/application (255.7ms)
Completed 200 OK in 318ms (Views: 249.5ms | ActiveRecord: 29.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:17:26 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mSQL (16.9ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (6.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
SQLite3::SQLException: no such column: box_offices.id_rental: SELECT  "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 81ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: box_offices.id_rental: SELECT  "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000):
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  [1m[36mRental Load (17.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (33.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (45.2ms)


Started GET "/films" for 127.0.0.1 at Mon Jun 20 13:17:31 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mFilm Load (8.2ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (30.1ms)
Rendered films/_film.html.haml (7.3ms)
  [1m[36mSQL (6.9ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (7.7ms)
Rendered layouts/_menu.haml (10.2ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (57.9ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/index.html.haml within layouts/application (195.3ms)
Completed 200 OK in 337ms (Views: 194.2ms | ActiveRecord: 25.0ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 13:17:33 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFilm Load (8.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (11.6ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (11.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.9ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (7.8ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (6.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)[0m
SQLite3::SQLException: no such column: box_offices.id_rental: SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)
Completed   in 338ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: box_offices.id_rental: SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)):
  app/controllers/films_controller.rb:14:in `show'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (17.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.5ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 13:17:34 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mFilm Load (6.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (10.0ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (10.2ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (11.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (8.8ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (6.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)
SQLite3::SQLException: no such column: box_offices.id_rental: SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)
Completed   in 340ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: box_offices.id_rental: SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id_rental" IN (NULL)):
  app/controllers/films_controller.rb:14:in `show'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (105.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (117.9ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 13:18:46 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFilm Load (9.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (10.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.8ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (9.0ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (7.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
  [1m[35mCountry Load (11.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
Rendered people/_person.html.haml (7.5ms)
Rendered people/_person.html.haml (6.9ms)
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (9.7ms)
  [1m[35mGenre Load (6.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (29.9ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/show.html.haml within layouts/application (156.8ms)
Completed 200 OK in 572ms (Views: 178.2ms | ActiveRecord: 101.7ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 13:18:53 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0[0m
  [1m[35mSQL (7.1ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (10.1ms)
  [1m[36mGenre Load (11.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (60.9ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/rentals.html.haml within layouts/application (159.0ms)
Completed 200 OK in 215ms (Views: 155.1ms | ActiveRecord: 27.4ms)


Started GET "/login" for 127.0.0.1 at Mon Jun 20 13:20:22 +0400 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_tray.haml (7.7ms)
Rendered layouts/_menu.haml (10.2ms)
  [1m[35mGenre Load (20.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (73.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered sessions/new.haml within layouts/application (156.9ms)
Completed 200 OK in 185ms (Views: 164.1ms | ActiveRecord: 20.2ms)


Started POST "/session" for 127.0.0.1 at Mon Jun 20 13:20:28 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[36mUser Load (12.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1[0m
Failed login for 'admin' from 127.0.0.1 at Mon Jun 20 09:20:28 UTC 2011
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (10.0ms)
  [1m[35mGenre Load (11.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (60.1ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered sessions/new.haml within layouts/application (124.3ms)
Completed 200 OK in 224ms (Views: 134.8ms | ActiveRecord: 23.4ms)


Started POST "/session" for 127.0.0.1 at Mon Jun 20 13:20:34 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[36mUser Load (9.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 68ms


Started GET "/" for 127.0.0.1 at Mon Jun 20 13:20:34 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mUser Load (9.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.8ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (30.7ms)
Rendered films/_film.html.haml (7.9ms)
  [1m[35mSQL (6.1ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (11.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (60.1ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/index.html.haml within layouts/application (200.4ms)
Completed 200 OK in 403ms (Views: 196.3ms | ActiveRecord: 37.7ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 13:21:00 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (12.3ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (10.7ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (11.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.6ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (7.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (15.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (9.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
  [1m[35mCountry Load (14.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name
  [1m[36mRental Load (7.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
  [1m[36mCountry Load (7.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
Rendered people/_person.html.haml (7.1ms)
Rendered people/_person.html.haml (6.6ms)
Rendered layouts/_tray.haml (6.6ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[35mGenre Load (10.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.6ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/show.html.haml within layouts/application (142.2ms)
Completed 200 OK in 616ms (Views: 155.3ms | ActiveRecord: 130.4ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 13:21:06 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0
  [1m[36mSQL (5.9ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1[0m
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (10.9ms)
  [1m[35mGenre Load (11.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (141.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/rentals.html.haml within layouts/application (238.0ms)
Completed 200 OK in 351ms (Views: 235.4ms | ActiveRecord: 36.3ms)


Started GET "/films/1/new_rental" for 127.0.0.1 at Mon Jun 20 13:21:09 +0400 2011
  Processing by FilmsController#new_rental as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (21.1ms)[0m  [1mSELECT "countries".* FROM "countries" ORDER BY name[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (14.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (65.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/new_rental.html.haml within layouts/application (324.5ms)
Completed 200 OK in 634ms (Views: 365.4ms | ActiveRecord: 51.2ms)


Started POST "/rentals" for 127.0.0.1 at Mon Jun 20 13:21:39 +0400 2011
  Processing by RentalsController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "rental"=>{"film_id"=>"1", "data_start(1i)"=>"2011", "data_start(2i)"=>"4", "data_start(3i)"=>"4", "country_id"=>"170", "data_finish(1i)"=>"2011", "data_finish(2i)"=>"7", "data_finish(3i)"=>"20"}}
  [1m[36mUser Load (9.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.0ms)[0m  SELECT "rentals"."id" FROM "rentals" WHERE "rentals"."film_id" = 1 AND ("rentals"."country_id" = 170) LIMIT 1
  [1m[36mAREL (17.1ms)[0m  [1mINSERT INTO "rentals" ("country_id", "updated_at", "film_id", "created_at", "data_finish", "data_start") VALUES (170, '2011-06-20 09:21:39.708655', 1, '2011-06-20 09:21:39.708655', '2011-07-20', '2011-04-04')[0m
  [1m[35mFilm Load (8.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/rentals/1/box_offices
Completed 302 Found in 296ms


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 13:21:39 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.5ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (10.5ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.1ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.8ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (7.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (6.9ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (10.8ms)
  [1m[35mGenre Load (8.9ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (32.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (132.9ms)
Completed 200 OK in 564ms (Views: 135.0ms | ActiveRecord: 83.5ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 13:21:45 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (9.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (5.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1[0m
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[35mGenre Load (10.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (134.8ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/rentals.html.haml within layouts/application (451.2ms)
Completed 200 OK in 556ms (Views: 434.3ms | ActiveRecord: 44.7ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 13:28:14 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (9.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (15.6ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (11.6ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (15.4ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.8ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (6.9ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[35mGenre Load (8.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (41.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (215.8ms)
Completed 200 OK in 786ms (Views: 233.2ms | ActiveRecord: 102.7ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 13:28:17 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (11.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/new_box_office.html.haml within layouts/application (25.8ms)
Completed   in 388ms

ActionView::Template::Error (undefined method `id_rental' for #<BoxOffice:0xb639d210>):
    9: 
    10:   .field
    11:     = f.label :id_rental
    12:     = f.select :id_rental,@ree
    13:   .field
    14:     = f.label :number_week
    15:     =f.text_field :number_week, :size=>1
  app/views/rentals/new_box_office.html.haml:12:in `_app_views_rentals_new_box_office_html_haml__279914815__620361658_0'
  app/views/rentals/new_box_office.html.haml:2:in `_app_views_rentals_new_box_office_html_haml__279914815__620361658_0'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (27.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (40.4ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 13:28:18 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (10.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/new_box_office.html.haml within layouts/application (24.6ms)
Completed   in 346ms

ActionView::Template::Error (undefined method `id_rental' for #<BoxOffice:0xb606c474>):
    9: 
    10:   .field
    11:     = f.label :id_rental
    12:     = f.select :id_rental,@ree
    13:   .field
    14:     = f.label :number_week
    15:     =f.text_field :number_week, :size=>1
  app/views/rentals/new_box_office.html.haml:12:in `_app_views_rentals_new_box_office_html_haml__279914815__619605998_0'
  app/views/rentals/new_box_office.html.haml:2:in `_app_views_rentals_new_box_office_html_haml__279914815__619605998_0'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (38.1ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 13:33:12 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (10.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (11.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/new_box_office.html.haml within layouts/application (24.7ms)
Completed   in 361ms

ActionView::Template::Error (undefined method `id_rental' for #<BoxOffice:0xb618b88c>):
    9: 
    10:   .field
    11:     = f.label :id_rental
    12:     = f.select :id_rental,@ree
    13:   .field
    14:     = f.label :number_week
    15:     =f.text_field :number_week, :size=>1
  app/views/rentals/new_box_office.html.haml:12:in `_app_views_rentals_new_box_office_html_haml__279914815__619112468_0'
  app/views/rentals/new_box_office.html.haml:2:in `_app_views_rentals_new_box_office_html_haml__279914815__619112468_0'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (38.6ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 13:33:42 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (9.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (11.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (11.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/new_box_office.html.haml within layouts/application (232.6ms)
Completed 200 OK in 561ms (Views: 241.6ms | ActiveRecord: 46.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:33:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 171ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  [1m[36mRental Load (17.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (177.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (189.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 13:34:46 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 261ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (18.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (53.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (66.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:04:02 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (108.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 370ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (50.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (63.3ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:04:52 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"11", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (9.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Completed   in 202ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb637b0d4>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.3ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:06:08 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (11.4ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (10.8ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.1ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.0ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (7.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (9.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (8.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (42.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (164.6ms)
Completed 200 OK in 700ms (Views: 174.4ms | ActiveRecord: 88.0ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 14:06:13 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (10.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (11.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/new_box_office.html.haml within layouts/application (218.4ms)
Completed 200 OK in 542ms (Views: 229.7ms | ActiveRecord: 44.3ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:06:19 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (7.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Completed   in 200ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb62b0744>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.1ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:06:46 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[36mUser Load (10.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 199ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb635da20>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.0ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:07:48 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (6.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Completed   in 183ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb600fd00>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.9ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:08:13 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[36mUser Load (8.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 89ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb6050eb8>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (106.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (118.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:10:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (12.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (9.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 201ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (19.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (56.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (69.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:10:14 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 229ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (15.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (50.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (62.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:10:30 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (10.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
Completed   in 276ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (22.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (56.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (68.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:10:38 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 6 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IS NULL AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mSQL (4.9ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (10.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (163.4ms)
Completed 200 OK in 382ms (Views: 171.1ms | ActiveRecord: 169.3ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:11:22 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[36mUser Load (13.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 110ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb60a81e0>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.5ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:11:31 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (6.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Completed   in 100ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb60ea220>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (107.1ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:12:05 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (12.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (10.8ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (11.2ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (11.3ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (9.8ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (9.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (8.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (9.8ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (10.9ms)
  [1m[35mGenre Load (8.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.1ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (142.7ms)
Completed 200 OK in 605ms (Views: 142.8ms | ActiveRecord: 101.1ms)


Started GET "/box_offices" for 127.0.0.1 at Mon Jun 20 14:12:12 +0400 2011
  Processing by BoxOfficesController#index as HTML
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.2ms)[0m  SELECT "box_offices".* FROM "box_offices" ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (6.1ms)[0m  [1mSELECT COUNT(*) FROM "box_offices"[0m
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[35mGenre Load (12.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (148.7ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered box_offices/index.html.haml within layouts/application (242.0ms)
Completed 200 OK in 380ms (Views: 272.6ms | ActiveRecord: 35.2ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 14:12:19 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (9.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (8.3ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (9.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (60.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/new_box_office.html.haml within layouts/application (215.0ms)
Completed 200 OK in 530ms (Views: 227.0ms | ActiveRecord: 44.8ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:12:29 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"10", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (8.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Completed   in 201ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb62f41d8>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.3ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:14:47 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"10", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[36mUser Load (10.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 203ms

NoMethodError (undefined method `id_rental' for #<BoxOffice:0xb634d300>):
  app/controllers/box_offices_controller.rb:44:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:19:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (10.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mFilm Load (8.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[35mGenre Load (13.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (69.0ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (186.7ms)
Completed 200 OK in 627ms (Views: 191.4ms | ActiveRecord: 63.8ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:22:07 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"10", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[36mUser Load (7.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.3ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."number_week" = 10) LIMIT 1
  [1m[36mAREL (24.3ms)[0m  [1mINSERT INTO "box_offices" ("sum_all", "created_at", "rental_id", "number_week", "updated_at") VALUES (1000, '2011-06-20 10:22:08.047702', 1, 10, '2011-06-20 10:22:08.047702')[0m
Completed   in 159ms

NoMethodError (undefined method `rentals' for #<BoxOffice:0xb6026168>):
  app/controllers/box_offices_controller.rb:45:in `create'
  app/controllers/box_offices_controller.rb:43:in `create'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.9ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:22:26 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"10", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (8.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (6.4ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."number_week" = 10) LIMIT 1[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals"
  [1m[36mCountry Load (10.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered box_offices/_form.html.haml (374.0ms)
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (11.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (136.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/new.html.haml within layouts/application (587.7ms)
Completed 200 OK in 761ms (Views: 617.5ms | ActiveRecord: 90.9ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:22:32 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"11", "rental_id"=>"1", "sum_all"=>"1000"}}
  [1m[35mUser Load (9.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (7.6ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."number_week" = 11) LIMIT 1[0m
  [1m[35mAREL (6.3ms)[0m  INSERT INTO "box_offices" ("sum_all", "created_at", "number_week", "updated_at", "rental_id") VALUES (1000, '2011-06-20 10:22:32.779496', 11, '2011-06-20 10:22:32.779496', 1)
  [1m[36mRental Load (8.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (9.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/rentals/1/box_offices
Completed 302 Found in 333ms


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:22:32 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.8ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (10.1ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (12.8ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.5ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (7.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (11.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.6ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.0ms)
  [1m[35mGenre Load (9.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (31.5ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (171.9ms)
Completed 200 OK in 704ms (Views: 158.2ms | ActiveRecord: 102.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:25:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (11.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.2ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (165.4ms)
Completed 200 OK in 516ms (Views: 177.8ms | ActiveRecord: 56.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:28:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.5ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[35mGenre Load (10.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (64.2ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (167.8ms)
Completed 200 OK in 530ms (Views: 178.4ms | ActiveRecord: 59.4ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 14:28:53 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (10.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (8.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (7.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1[0m
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (11.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (135.2ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/rentals.html.haml within layouts/application (443.4ms)
Completed 200 OK in 556ms (Views: 424.1ms | ActiveRecord: 51.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:30:10 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (54.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (52.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (49.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 35 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 35 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[36mGenre Load (11.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (147.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (254.5ms)
Completed 200 OK in 983ms (Views: 318.6ms | ActiveRecord: 196.0ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:30:37 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (11.0ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (12.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.8ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (8.1ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (6.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (5.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCountry Load (6.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[36mGenre Load (8.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.6ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/box_offices.html.haml within layouts/application (169.2ms)
Completed 200 OK in 707ms (Views: 158.7ms | ActiveRecord: 99.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:30:53 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (8.4ms)[0m  SELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.1ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
Rendered rentals/index.html.haml within layouts/application (15.3ms)
Completed   in 516ms

ActionView::Template::Error (undefined method `sum_all' for #<Film:0xb60401bc>):
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
    15:   %table
  app/views/rentals/index.html.haml:12:in `_app_views_rentals_index_html_haml___431621396__619314248_0'
  app/views/rentals/index.html.haml:9:in `each'
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619314248_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (17.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (49.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (63.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:30:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (8.1ms)[0m  SELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (9.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
Rendered rentals/index.html.haml within layouts/application (14.5ms)
Completed   in 436ms

ActionView::Template::Error (undefined method `sum_all' for #<Film:0xb6185b30>):
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
    15:   %table
  app/views/rentals/index.html.haml:12:in `_app_views_rentals_index_html_haml___431621396__620394978_0'
  app/views/rentals/index.html.haml:9:in `each'
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620394978_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (19.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (145.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (158.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:31:22 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 35 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 35 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[35mGenre Load (9.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (65.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (168.0ms)
Completed 200 OK in 504ms (Views: 172.1ms | ActiveRecord: 73.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:31:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (9.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.7ms)[0m  [1mSELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
Rendered rentals/index.html.haml within layouts/application (14.7ms)
Completed   in 410ms

ActionView::Template::Error (undefined method `sum_all' for #<Film:0xb6296de4>):
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
    15:   %table
  app/views/rentals/index.html.haml:12:in `_app_views_rentals_index_html_haml___431621396__619763458_0'
  app/views/rentals/index.html.haml:9:in `each'
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619763458_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (17.7ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (49.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (62.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:31:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.0ms)[0m  [1mSELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (9.9ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
Rendered rentals/index.html.haml within layouts/application (14.8ms)
Completed   in 471ms

ActionView::Template::Error (undefined method `sum_all' for #<Film:0xb6060368>):
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
    15:   %table
  app/views/rentals/index.html.haml:12:in `_app_views_rentals_index_html_haml___431621396__619304578_0'
  app/views/rentals/index.html.haml:9:in `each'
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619304578_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (15.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:32:29 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (36.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (35.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (45.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (43.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (19.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (21.1ms)[0m  [1mSELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (34.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (7.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.8ms)
  [1m[36mGenre Load (10.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (147.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (253.6ms)
Completed 200 OK in 1082ms (Views: 337.4ms | ActiveRecord: 259.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:33:14 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (16.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (9.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (8.1ms)[0m  SELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mSQL (7.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (10.8ms)
  [1m[35mGenre Load (10.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (144.6ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (231.7ms)
Completed 200 OK in 583ms (Views: 235.4ms | ActiveRecord: 72.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:40:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (4.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (27.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.0ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (90.1ms)
  [1m[36mGenre Load (9.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (250.8ms)
Completed 200 OK in 648ms (Views: 258.4ms | ActiveRecord: 77.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:40:38 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (13.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.0ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[35mGenre Load (12.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (151.7ms)
Completed 200 OK in 653ms (Views: 156.4ms | ActiveRecord: 82.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:40:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (10.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (8.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.2ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.7ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[36mGenre Load (11.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.4ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (155.4ms)
Completed 200 OK in 547ms (Views: 159.9ms | ActiveRecord: 86.4ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 14:40:57 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (10.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (12.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (9.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (8.0ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (12.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (137.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered films/rentals.html.haml within layouts/application (457.2ms)
Completed 200 OK in 573ms (Views: 435.5ms | ActiveRecord: 60.4ms)


Started GET "/films/1/new_rental" for 127.0.0.1 at Mon Jun 20 14:40:59 +0400 2011
  Processing by FilmsController#new_rental as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (22.2ms)[0m  SELECT "countries".* FROM "countries" ORDER BY name
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (12.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.4ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/new_rental.html.haml within layouts/application (316.7ms)
Completed 200 OK in 577ms (Views: 306.5ms | ActiveRecord: 48.5ms)


Started POST "/rentals" for 127.0.0.1 at Mon Jun 20 14:41:35 +0400 2011
  Processing by RentalsController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "rental"=>{"film_id"=>"1", "data_start(1i)"=>"2011", "data_start(2i)"=>"5", "data_start(3i)"=>"6", "country_id"=>"194", "data_finish(1i)"=>"2011", "data_finish(2i)"=>"7", "data_finish(3i)"=>"20"}}
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals"."id" FROM "rentals" WHERE "rentals"."film_id" = 1 AND ("rentals"."country_id" = 194) LIMIT 1[0m
  [1m[35mAREL (23.4ms)[0m  INSERT INTO "rentals" ("film_id", "updated_at", "data_finish", "data_start", "created_at", "country_id") VALUES (1, '2011-06-20 10:41:36.196465', '2011-07-20', '2011-05-06', '2011-06-20 10:41:36.196465', 194)
Redirected to http://localhost:3000/films/1/rentals
Completed 302 Found in 167ms


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 14:41:36 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (10.9ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (9.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.0ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[35mGenre Load (10.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (61.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/rentals.html.haml within layouts/application (384.3ms)
Completed 200 OK in 587ms (Views: 357.0ms | ActiveRecord: 95.8ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:41:39 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.8ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (11.0ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (9.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.5ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (7.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (5.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)[0m
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (10.7ms)
  [1m[35mGenre Load (9.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (30.8ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (160.4ms)
Completed 200 OK in 585ms (Views: 150.6ms | ActiveRecord: 95.0ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 14:41:44 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCountry Load (10.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (9.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (8.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (10.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/new_box_office.html.haml within layouts/application (147.3ms)
Completed 200 OK in 503ms (Views: 158.9ms | ActiveRecord: 54.7ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:42:08 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (9.5ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (9.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.7ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (9.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (7.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCountry Load (6.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (7.4ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (8.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (33.7ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/box_offices.html.haml within layouts/application (248.7ms)
Completed 200 OK in 692ms (Views: 234.2ms | ActiveRecord: 97.2ms)


Started GET "/rentals/1/new_box_office" for 127.0.0.1 at Mon Jun 20 14:42:11 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCountry Load (10.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (10.1ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (89.1ms)
  [1m[35mGenre Load (10.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (62.3ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/new_box_office.html.haml within layouts/application (221.3ms)
Completed 200 OK in 560ms (Views: 233.2ms | ActiveRecord: 52.7ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 14:42:20 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"7", "rental_id"=>"2", "sum_all"=>"1000"}}
  [1m[36mUser Load (6.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (6.5ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 2 AND ("box_offices"."number_week" = 7) LIMIT 1
  [1m[36mAREL (6.0ms)[0m  [1mINSERT INTO "box_offices" ("number_week", "updated_at", "rental_id", "sum_all", "created_at") VALUES (7, '2011-06-20 10:42:20.736003', 2, 1000, '2011-06-20 10:42:20.736003')[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/rentals/1/box_offices
Completed 302 Found in 350ms


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:42:20 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (11.0ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (11.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.1ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (7.1ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (9.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (8.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCountry Load (8.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCountry Load (7.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)
Rendered layouts/_tray.haml (6.8ms)
Rendered layouts/_menu.haml (11.1ms)
  [1m[36mGenre Load (9.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (31.0ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/box_offices.html.haml within layouts/application (188.5ms)
Completed 200 OK in 720ms (Views: 159.4ms | ActiveRecord: 115.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:42:23 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.7ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (9.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (10.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (154.0ms)
Completed 200 OK in 528ms (Views: 159.0ms | ActiveRecord: 75.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:43:08 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (8.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (10.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (7.3ms)[0m  [1mSELECT "films"."id" AS t0_r0, "films"."name" AS t0_r1, "films"."origin_name" AS t0_r2, "films"."slogan" AS t0_r3, "films"."country_id" AS t0_r4, "films"."genre_id" AS t0_r5, "films"."director_id" AS t0_r6, "films"."length" AS t0_r7, "films"."year" AS t0_r8, "films"."description" AS t0_r9, "films"."created_at" AS t0_r10, "films"."updated_at" AS t0_r11, "films"."cover_file_name" AS t0_r12, "films"."cover_content_type" AS t0_r13, "films"."cover_file_size" AS t0_r14, "films"."cover_updated_at" AS t0_r15, "films"."trailer_url" AS t0_r16, "rentals"."id" AS t1_r0, "rentals"."data_start" AS t1_r1, "rentals"."data_finish" AS t1_r2, "rentals"."country_id" AS t1_r3, "rentals"."film_id" AS t1_r4, "rentals"."created_at" AS t1_r5, "rentals"."updated_at" AS t1_r6, "box_offices"."id" AS t2_r0, "box_offices"."rental_id" AS t2_r1, "box_offices"."number_week" AS t2_r2, "box_offices"."sum_all" AS t2_r3, "box_offices"."created_at" AS t2_r4, "box_offices"."updated_at" AS t2_r5 FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (13.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (140.9ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (232.6ms)
Completed 200 OK in 637ms (Views: 236.3ms | ActiveRecord: 67.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:43:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.6ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.8ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (10.8ms)
  [1m[35mGenre Load (10.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (142.6ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (228.6ms)
Completed 200 OK in 608ms (Views: 235.5ms | ActiveRecord: 76.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:44:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.0ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (12.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.9ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (11.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (230.2ms)
Completed 200 OK in 636ms (Views: 234.5ms | ActiveRecord: 82.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:45:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (11.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (11.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.2ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[35mGenre Load (9.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.4ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (167.9ms)
Completed 200 OK in 580ms (Views: 177.6ms | ActiveRecord: 87.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:49:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (10.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (9.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.2ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (8.4ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (11.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.2ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (175.4ms)
Completed 200 OK in 589ms (Views: 184.1ms | ActiveRecord: 89.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:50:29 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (9.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (9.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (10.9ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (142.7ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (245.3ms)
Completed 200 OK in 650ms (Views: 254.0ms | ActiveRecord: 80.6ms)


Started GET "/box_offices/1/edit" for 127.0.0.1 at Mon Jun 20 14:51:02 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (7.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals"[0m
  [1m[35mCountry Load (10.7ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.8ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered box_offices/_form.html.haml (355.1ms)
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[35mGenre Load (10.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (62.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/edit.html.haml within layouts/application (484.3ms)
Completed 200 OK in 682ms (Views: 470.7ms | ActiveRecord: 56.9ms)


Started GET "/box_offices/3/edit" for 127.0.0.1 at Mon Jun 20 14:51:17 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (7.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 3 LIMIT 1
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals"[0m
  [1m[35mCountry Load (10.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (9.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered box_offices/_form.html.haml (378.5ms)
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[35mGenre Load (10.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (138.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered box_offices/edit.html.haml within layouts/application (585.4ms)
Completed 200 OK in 700ms (Views: 563.7ms | ActiveRecord: 60.9ms)


Started POST "/box_offices/3" for 127.0.0.1 at Mon Jun 20 14:51:22 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "id"=>"3", "box_office"=>{"number_week"=>"6", "rental_id"=>"2", "sum_all"=>"1000"}}
  [1m[36mUser Load (7.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mBoxOffice Load (8.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 3 LIMIT 1
  [1m[36mBoxOffice Load (5.2ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 2 AND ("box_offices"."number_week" = 6) AND ("box_offices".id <> 3) LIMIT 1[0m
  [1m[35mAREL (23.3ms)[0m  UPDATE "box_offices" SET "number_week" = 6, "updated_at" = '2011-06-20 10:51:22.647902' WHERE "box_offices"."id" = 3
  [1m[36mRental Load (8.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1[0m
  [1m[35mFilm Load (9.3ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/rentals/1/box_offices
Completed 302 Found in 408ms


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:51:22 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.2ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (11.1ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.7ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (7.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (4.9ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (6.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (9.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (32.7ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (191.9ms)
Completed 200 OK in 728ms (Views: 167.0ms | ActiveRecord: 109.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:51:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (13.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (10.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (10.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (10.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (61.8ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (150.8ms)
Completed 200 OK in 653ms (Views: 156.6ms | ActiveRecord: 153.6ms)


Started GET "/box_offices/3/edit" for 127.0.0.1 at Mon Jun 20 14:51:33 +0400 2011
  Processing by BoxOfficesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (11.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 3 LIMIT 1[0m
  [1m[35mRental Load (8.8ms)[0m  SELECT "rentals".* FROM "rentals"
  [1m[36mCountry Load (12.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (8.8ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (10.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered box_offices/_form.html.haml (389.4ms)
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[36mGenre Load (11.0ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (136.9ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered box_offices/edit.html.haml within layouts/application (602.5ms)
Completed 200 OK in 742ms (Views: 581.6ms | ActiveRecord: 70.0ms)


Started POST "/box_offices/3" for 127.0.0.1 at Mon Jun 20 14:51:38 +0400 2011
  Processing by BoxOfficesController#update as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"PGoObewqVdsfsmV183QLoTyp22ijXNSCPcOltauMktA=", "utf8"=>"‚úì", "id"=>"3", "box_office"=>{"number_week"=>"7", "rental_id"=>"2", "sum_all"=>"1000"}}
  [1m[35mUser Load (9.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (7.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."id" = 3 LIMIT 1[0m
  [1m[35mBoxOffice Load (6.2ms)[0m  SELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 2 AND ("box_offices"."number_week" = 7) AND ("box_offices".id <> 3) LIMIT 1
  [1m[36mAREL (4.9ms)[0m  [1mUPDATE "box_offices" SET "number_week" = 7, "updated_at" = '2011-06-20 10:51:38.995826' WHERE "box_offices"."id" = 3[0m
  [1m[35mRental Load (11.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/rentals/1/box_offices
Completed 302 Found in 330ms


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 14:51:39 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (10.2ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (11.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (10.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (8.2ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (8.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mBoxOffice Load (7.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0[0m
  [1m[35mRental Load (6.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCountry Load (5.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCountry Load (6.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (7.0ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (8.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (189.6ms)
Completed 200 OK in 731ms (Views: 165.6ms | ActiveRecord: 111.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:51:43 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.0ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (9.8ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.9ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.6ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (13.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (90.1ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/index.html.haml within layouts/application (198.1ms)
Completed 200 OK in 584ms (Views: 201.7ms | ActiveRecord: 83.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:59:32 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (10.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.4ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.7ms)
  [1m[36mGenre Load (11.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (169.1ms)
Completed 200 OK in 581ms (Views: 182.3ms | ActiveRecord: 82.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 14:59:52 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (9.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (12.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.1ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.9ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (6.9ms)
Rendered layouts/_menu.haml (11.4ms)
  [1m[35mGenre Load (12.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (145.0ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (248.0ms)
Completed 200 OK in 644ms (Views: 250.7ms | ActiveRecord: 85.0ms)


Started GET "/films/1/rentals" for 127.0.0.1 at Mon Jun 20 15:01:29 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (9.1ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCountry Load (7.2ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 1[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[35mGenre Load (10.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (62.3ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/rentals.html.haml within layouts/application (397.4ms)
Completed 200 OK in 607ms (Views: 376.9ms | ActiveRecord: 56.4ms)


Started GET "/rentals/1/box_offices" for 127.0.0.1 at Mon Jun 20 15:01:42 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (8.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.7ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)[0m
  [1m[35mCountry Load (9.6ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (10.7ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (7.3ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mBoxOffice Load (9.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (5.6ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 194 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCountry Load (7.1ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (9.9ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)[0m
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[35mGenre Load (7.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (30.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (193.9ms)
Completed 200 OK in 724ms (Views: 166.0ms | ActiveRecord: 110.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:05:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (6.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
Completed   in 164ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/rentals_controller.rb:16:in `index'
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (16.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (57.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:05:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (5.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (9.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mSQL (7.5ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.8ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (5.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.6ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[36mGenre Load (10.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.4ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (172.0ms)
Completed 200 OK in 536ms (Views: 182.7ms | ActiveRecord: 113.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:06:11 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (10.3ms)
Completed   in 345ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    5:     %tr
    6:       %th –§–∏–ª—å–º
    7:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    8:     -@n.each do |x|
    9:       %tr
    10:         %td=x[0]
    11:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:8:in `_app_views_rentals_index_html_haml___431621396__619124768_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (15.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:08:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (9.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.6ms)
Completed   in 367ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    5:     %tr
    6:       %th –§–∏–ª—å–º
    7:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    8:     -@n.each do |x|
    9:       %tr
    10:         %td=x.name
    11:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:8:in `_app_views_rentals_index_html_haml___431621396__619874168_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (14.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:08:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (4.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.7ms)
Completed   in 351ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620262428_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (18.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (137.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (149.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:09:13 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.2ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (10.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.4ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
Rendered rentals/index.html.haml within layouts/application (10.1ms)
Completed   in 376ms

ActionView::Template::Error (undefined method `name' for ["–¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä 2: –°—É–¥–Ω—ã–π –¥–µ–Ω—å", 1000]:Array):
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.name
    12:         %td=number_to_currency(x.sum_all, :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
  app/views/rentals/index.html.haml:11:in `_app_views_rentals_index_html_haml___431621396__619613408_0'
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619613408_0'
  app/controllers/rentals_controller.rb:25:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (17.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (48.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (61.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:09:43 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (8.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.5ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (11.5ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (149.8ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (264.1ms)
Completed 200 OK in 647ms (Views: 275.6ms | ActiveRecord: 63.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:10:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (8.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (6.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (5.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (6.7ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (11.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (146.9ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (230.9ms)
Completed 200 OK in 569ms (Views: 235.7ms | ActiveRecord: 61.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:10:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (9.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (8.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620602758_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:11: syntax error, unexpected '['
...lse_true_false_true_false((x.[0]
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unknown regexp options - td
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
));}</td>\n  </tr>\n", -1, false);end;_h...
          ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unknown regexp options - tabl
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unmatched ): /tr>\n", -1, false);end;_hamlout.push_text("</
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
...;_hamlout.push_text("</table>\n", -1, false);end;_hamlout.pu...
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
...;end;_hamlout.push_text("<br>\n", 0, false);
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
_hamlout.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</t...
                            ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
...ut.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    ...
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: unknown regexp options - th
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
...–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", 1, false);
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:22: unknown regexp options - td
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:22: syntax error, unexpected $undefined
));}</td>\n    <td>#{_hamlout.adjust_tab...
          ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected ')'
));}</td>\n  </tr>\n", -1, fals...
 ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unknown regexp options - tr
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected $undefined
));}</td>\n  </tr>\n", -1, false);end;_hamlout.pu...
                   ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_rentals_index_html_haml___431621396__620602758_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;@n1=nil;
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false((@cc
));}\n<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n", 0, false);
unless @n.blank?;
_hamlout.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n  </tr>\n", 1, false);



_hamlout.append_if_string= @n.each do |x|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((x.[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n", -1, false);end;_hamlout.push_text("<br>\n", 0, false);
unless @n1.blank?;
_hamlout.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", 1, false);



_hamlout.append_if_string= @n1.each do |y|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((y[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((number_to_currency(y[1], :unit => "$", :separator => ",", :delimiter => " ")
));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n", -1, false);end;_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:26:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (12.3ms)
Completed   in 381ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:11: syntax error, unexpected '['
...lse_true_false_true_false((x.[0]
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unknown regexp options - td
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
));}</td>\n  </tr>\n", -1, false);end;_h...
          ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unknown regexp options - tabl
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: unmatched ): /tr>\n", -1, false);end;_hamlout.push_text("</
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
...;_hamlout.push_text("</table>\n", -1, false);end;_hamlout.pu...
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:13: syntax error, unexpected $undefined
...;end;_hamlout.push_text("<br>\n", 0, false);
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
_hamlout.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</t...
                            ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
...ut.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    ...
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: unknown regexp options - th
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:15: syntax error, unexpected $undefined
...–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", 1, false);
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:22: unknown regexp options - td
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:22: syntax error, unexpected $undefined
));}</td>\n    <td>#{_hamlout.adjust_tab...
          ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected ')'
));}</td>\n  </tr>\n", -1, fals...
 ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unknown regexp options - tr
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected $undefined
));}</td>\n  </tr>\n", -1, false);end;_hamlout.pu...
                   ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x.[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
    13: %br      
    14: -unless @n1.blank?  
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (14.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (43.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (56.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:10:43 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.4ms)
  [1m[35mGenre Load (14.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (77.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (170.8ms)
Completed 200 OK in 513ms (Views: 172.8ms | ActiveRecord: 64.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:11:06 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mFilm Load (6.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (8.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[36mGenre Load (10.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.0ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered rentals/index.html.haml within layouts/application (173.8ms)
Completed 200 OK in 506ms (Views: 252.5ms | ActiveRecord: 57.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:11:24 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (5.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (4.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (91.0ms)
Completed   in 347ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620981768_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (13.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:11:42 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.7ms)
Completed   in 366ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    6:     %tr
    7:       %th –§–∏–ª—å–º
    8:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    9:     -@n.each do |x|
    10:       %tr
    11:         %td=x[0]
    12:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619570728_0'
  app/controllers/rentals_controller.rb:26:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (14.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (57.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:11:56 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.7ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (9.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (10.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (150.6ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (237.2ms)
Completed 200 OK in 629ms (Views: 241.6ms | ActiveRecord: 93.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:12:08 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (8.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.7ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (12.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (7.6ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.9ms)
  [1m[36mGenre Load (13.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (68.4ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (164.9ms)
Completed 200 OK in 657ms (Views: 181.6ms | ActiveRecord: 86.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:15:36 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.1ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (12.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.6ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.6ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[35mGenre Load (13.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (68.0ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered rentals/index.html.haml within layouts/application (176.2ms)
Completed 200 OK in 586ms (Views: 186.4ms | ActiveRecord: 82.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:16:20 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.4ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (8.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.2ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.6ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (6.6ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (13.9ms)
  [1m[36mGenre Load (11.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (63.4ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (157.6ms)
Completed 200 OK in 541ms (Views: 161.9ms | ActiveRecord: 80.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:16:36 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (12.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (12.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (42.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.4ms)
Completed   in 423ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619594598_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (16.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:21:18 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.5ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 359ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__620211298_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[36mRental Load (13.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (56.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:21:32 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (10.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.5ms)
Completed   in 341ms

ActionView::Template::Error (undefined method `find_each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.find_each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__618766958_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (14.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:21:36 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.4ms)
Completed   in 348ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619652698_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:32:14 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (8.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (9.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 21 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (5.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 21 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (8.9ms)
Completed   in 419ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__620066468_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (18.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:32:18 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (13.0ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (16.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.2ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (6.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.0ms)
  [1m[35mGenre Load (10.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (67.3ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (178.5ms)
Completed 200 OK in 564ms (Views: 184.2ms | ActiveRecord: 109.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:35:18 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 1
  [1m[36mBoxOffice Load (7.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (6.4ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC[0m
  [1m[35mFilm Load (11.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.6ms)[0m  [1mSELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC[0m
  [1m[35mSQL (8.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (11.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (68.3ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (175.1ms)
Completed 200 OK in 588ms (Views: 185.1ms | ActiveRecord: 79.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:35:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (6.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (6.0ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 347ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619602218_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (15.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:36:03 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 0 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mFilm Load (7.6ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 0 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 339ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__620257928_0'
  app/controllers/rentals_controller.rb:29:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:36:10 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 1[0m
  [1m[35mBoxOffice Load (7.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" = 1 AND ("box_offices"."id" >= 0) ORDER BY box_offices.id ASC LIMIT 1000
  [1m[36mRental Load (7.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.6ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, name AS name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY name ORDER BY sum_all DESC
  [1m[36mFilm Load (11.1ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 GROUP BY films.name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (6.3ms)[0m  SELECT SUM(sum_all) AS sum_sum_all, films.name AS films_name FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" LEFT OUTER JOIN "countries" ON "countries"."id" = "rentals"."country_id" WHERE "countries"."id" = 170 AND "box_offices"."number_week" = 11 AND "films"."id" IN (1) GROUP BY films.name ORDER BY sum_all DESC
  [1m[36mSQL (5.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[35mGenre Load (11.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (62.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/index.html.haml within layouts/application (151.5ms)
Completed 200 OK in 522ms (Views: 156.5ms | ActiveRecord: 93.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:44:25 +0400 2011

SyntaxError (/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:111: syntax error, unexpected kEND, expecting $end):
  

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:44:38 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 157ms

NameError (undefined local variable or method `film_id' for #<RentalsController:0xb61b0ba0>):
  app/controllers/rentals_controller.rb:8:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (37.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:44:53 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (7.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (8.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 179ms

NameError (undefined local variable or method `eng' for #<RentalsController:0xb61edd5c>):
  app/controllers/rentals_controller.rb:13:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (37.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:45:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 261ms

NameError (undefined local variable or method `eng' for #<RentalsController:0xb61b1b40>):
  app/controllers/rentals_controller.rb:13:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (37.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:45:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (8.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (17.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 353ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619273818_0'
  app/controllers/rentals_controller.rb:19:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (14.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:46:08 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (8.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (13.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (7.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (7.9ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (9.2ms)
Completed   in 412ms

ActionView::Template::Error (undefined method `each' for 0:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@n.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619613558_0'
  app/controllers/rentals_controller.rb:19:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (16.7ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:46:26 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (6.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (7.8ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.3ms)
Completed   in 332ms

ActionView::Template::Error (undefined method `each' for 1000:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@rus_rental.each do |x|
    8:       %tr
    9:         %td=x[0]
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__619915518_0'
  app/controllers/rentals_controller.rb:19:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (14.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (43.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (56.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:46:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (5.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (7.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.7ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (8.9ms)
Completed   in 243ms

ActionView::Template::Error (undefined method `each' for 1000:Fixnum):
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -@rus_rental.each do |x|
    8:       %tr
    9:         %td=x.name
    10:         %td=number_to_currency(x[1], :unit => "$", :separator => ",", :delimiter => " ")
  app/views/rentals/index.html.haml:7:in `_app_views_rentals_index_html_haml___431621396__620469868_0'
  app/controllers/rentals_controller.rb:19:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (15.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (136.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (149.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:48:38 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (8.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (8.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 192ms

NameError (undefined local variable or method `film_id' for #<RentalsController:0xb6231764>):
  app/controllers/rentals_controller.rb:15:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (127.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:48:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (6.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (6.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (7.5ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (2.5ms)
Completed   in 341ms

ActionView::Template::Error (There's no Ruby code for = to evaluate.):
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     
    8:       %tr
    9:         %td=
    10:         %td=@rus_rental
    11: %br      
    12: -unless @n1.blank?  
  app/views/rentals/index.html.haml:9
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (15.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:48:59 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (7.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.8ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (7.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (8.3ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (7.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.3ms)
  [1m[36mGenre Load (10.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (69.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (178.2ms)
Completed 200 OK in 519ms (Views: 181.8ms | ActiveRecord: 93.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:49:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (9.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (9.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (13.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (18.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 403ms

ActionView::Template::Error (undefined method `name' for 1000:Fixnum):
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     
    8:       %tr
    9:         %td=@rus_rental.name
    10:         %td=@rus_rental
    11: %br      
    12: -unless @n1.blank?  
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__619356538_0'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (14.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (57.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:53:43 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (6.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.5ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (12.1ms)
  [1m[36mGenre Load (12.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (68.1ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (166.3ms)
Completed 200 OK in 465ms (Views: 173.1ms | ActiveRecord: 63.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:53:58 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (10.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (8.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (9.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (8.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (9.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (15.8ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.6ms)
Rendered layouts/_menu.haml (12.6ms)
  [1m[36mGenre Load (10.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.6ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/index.html.haml within layouts/application (236.2ms)
Completed 200 OK in 454ms (Views: 231.8ms | ActiveRecord: 94.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:54:21 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (7.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (8.3ms)[0m  SELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3
  [1m[36mSQL (5.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[35mGenre Load (11.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (146.4ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (232.4ms)
Completed 200 OK in 494ms (Views: 237.5ms | ActiveRecord: 79.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:54:32 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (6.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (5.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (6.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (7.9ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (7.6ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
Rendered rentals/index.html.haml within layouts/application (1.0ms)
Completed   in 357ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %h1 and nested within it.):
    1: %h1 –î–Ω–∏ —Å–±–æ—Ä–∞
    2: 
    3:   %table
    4:     %tr
    5:       %th –§–∏–ª—å–º
    6:       %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
  app/views/rentals/index.html.haml:3
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (15.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:54:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (8.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (7.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (8.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (7.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.2ms)[0m  [1mSELECT DISTINCT "films".id FROM "films" LEFT OUTER JOIN "rentals" ON "rentals"."film_id" = "films"."id" LEFT OUTER JOIN "box_offices" ON "box_offices"."rental_id" = "rentals"."id" WHERE "box_offices"."number_week" = 1000 GROUP BY name ORDER BY sum_all DESC LIMIT 3[0m
  [1m[35mSQL (5.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.4ms)
  [1m[36mGenre Load (10.7ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (69.1ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (242.1ms)
Completed 200 OK in 521ms (Views: 250.0ms | ActiveRecord: 83.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:56:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (8.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1
  [1m[36mSQL (11.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (9.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (6.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (7.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (6.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (11.3ms)
  [1m[36mGenre Load (10.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (150.8ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (255.9ms)
Completed 200 OK in 496ms (Views: 263.9ms | ActiveRecord: 82.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:58:08 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (7.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IS NULL AND "rentals"."country_id" = 170 LIMIT 1[0m
Completed   in 210ms

NoMethodError (undefined method `box_offices' for nil:NilClass):
  app/controllers/rentals_controller.rb:8:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (14.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (55.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (68.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:58:21 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (6.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[35mGenre Load (10.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (73.6ms)
Rendered layouts/_footer.haml (3.4ms)
Rendered rentals/index.html.haml within layouts/application (177.4ms)
Completed 200 OK in 489ms (Views: 186.6ms | ActiveRecord: 97.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:59:31 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IS NULL AND "rentals"."country_id" = 170 LIMIT 1
Completed   in 108ms

NoMethodError (undefined method `box_offices' for nil:NilClass):
  app/controllers/rentals_controller.rb:8:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (14.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (53.2ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (65.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 15:59:50 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.6ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (7.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194 LIMIT 1[0m
  [1m[35mSQL (8.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (12.5ms)
  [1m[35mGenre Load (10.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (67.8ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (177.9ms)
Completed 200 OK in 517ms (Views: 262.4ms | ActiveRecord: 104.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:00:11 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.2ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (6.1ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (85.0ms)
Rendered layouts/_menu.haml (12.6ms)
  [1m[36mGenre Load (10.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.9ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (228.5ms)
Completed 200 OK in 586ms (Views: 235.4ms | ActiveRecord: 71.8ms)


Started GET "/genres/5" for 127.0.0.1 at Mon Jun 20 16:00:16 +0400 2011
  Processing by GenresController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (7.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mGenre Load (9.6ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE "genres"."id" = 5 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films" WHERE ("films".genre_id = 5) ORDER BY name
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.5ms)
  [1m[36mGenre Load (8.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (32.6ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered genres/show.html.haml within layouts/application (95.6ms)
Completed 200 OK in 482ms (Views: 194.0ms | ActiveRecord: 32.5ms)


Started GET "/genres/5" for 127.0.0.1 at Mon Jun 20 16:00:17 +0400 2011
  Processing by GenresController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mGenre Load (10.1ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE "genres"."id" = 5 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT "films".* FROM "films" WHERE ("films".genre_id = 5) ORDER BY name
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[36mGenre Load (8.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (35.4ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered genres/show.html.haml within layouts/application (98.9ms)
Completed 200 OK in 277ms (Views: 118.3ms | ActiveRecord: 32.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:01:56 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.6ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (9.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (5.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.5ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (9.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (141.1ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (238.9ms)
Completed 200 OK in 597ms (Views: 248.3ms | ActiveRecord: 68.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:04:48 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 225ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (17.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (76.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (90.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:04:59 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 191ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (14.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (55.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (68.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:05:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.1ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.0ms)
Rendered layouts/_menu.haml (10.8ms)
  [1m[36mGenre Load (9.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (158.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/index.html.haml within layouts/application (257.2ms)
Completed 200 OK in 590ms (Views: 268.9ms | ActiveRecord: 111.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:05:20 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.4ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (5.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
Rendered rentals/index.html.haml within layouts/application (8.0ms)
Completed   in 350ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    6:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:   
    8:     %tr
    9:       %td=@films.name
    10:       %td=@rus_rental
    11: %br      
    12: 
  app/views/rentals/index.html.haml:9:in `_app_views_rentals_index_html_haml___431621396__620604638_0'
  app/controllers/rentals_controller.rb:23:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[36mRental Load (19.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
  [1m[35mFilm Load (6.3ms)[0m  SELECT "films".* FROM "films"
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (70.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (82.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:06:19 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 134ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (16.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (54.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (67.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:08:16 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 139ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
  [1m[35mRental Load (17.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (149.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (162.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:09:13 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (9.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 122ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (16.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (143.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (156.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:12:03 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (18.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 174ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (72.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (202.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (215.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:12:16 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (64.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 178ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (18.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (151.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (164.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:13:30 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 136ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (16.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (146.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (158.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:15:24 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (7.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619438178_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619438178_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td>#{







_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@film_name
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@sum
));}</td>\n    </tr>\n  </tr>\n</table>\n#{_hamlout.adjust_tabs(-3); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:24:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.3ms)
Completed   in 362ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:       %td=@sum
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (14.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:15:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (6.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (10.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (8.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (9.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (9.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (9.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620181558_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__620181558_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td>#{







_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@film_name
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@sum
));}</td>\n    </tr>\n  </tr>\n</table>\n#{_hamlout.adjust_tabs(-3); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:24:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.1ms)
Completed   in 374ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:       %td=@sum
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (15.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (57.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:15:42 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619035058_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619035058_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td>#{







_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@film_name
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@sum
));}</td>\n    </tr>\n  </tr>\n</table>\n#{_hamlout.adjust_tabs(-3); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:24:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 338ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:       %td=@sum
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:24:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (18.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (49.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (62.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:15:46 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed   in 207ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:7:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (17.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (60.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (73.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:23:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.8ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (8.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (8.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619759358_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619759358_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.5ms)
Completed   in 414ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:       %td=fr[1]
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (17.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:24:35 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.3ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (7.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (7.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620358728_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__620358728_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.3ms)
Completed   in 401ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:       %td=fr[1]
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (16.7ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (49.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (152.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:24:44 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.7ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619487038_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619487038_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n", -1, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("    <tr>\n      <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n    </tr>\n", -1, false);end;_hamlout.push_text("  </tr>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 342ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:23: unterminated string meets end of file):
    20:         %td=fr[1]
    21: =paginate @rentals
    22: %br
    23: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:23:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:25:07 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (8.1ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (7.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (5.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620132898_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__620132898_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n", -3, false);
_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n    <tr>\n      <td>#{






_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n    </tr>\n  </tr>\n</table>\n", -3, false);end;_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.6ms)
Completed   in 375ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:         %td=fr[1]
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (16.0ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (57.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:25:44 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.3ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619001048_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619001048_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n", -2, false);
_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <table>\n    <tr>\n      <th>–§–∏–ª—å–º</th>\n      <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n      <tr>\n        <td>#{






_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n        <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n      </tr>\n    </tr>\n  </table>\n", -3, false);end;_hamlout.push_text("</br>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (9.0ms)
Completed   in 366ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:           %td=fr[1]
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (15.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:26:27 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (9.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (14.1ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (19.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (32.8ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (8.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.7ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (7.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (6.5ms)
Completed   in 463ms

ActionView::Template::Error (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
    21:    -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (137.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (176.2ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (189.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:26:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (63.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (12.7ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (9.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (44.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (61.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (8.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/index.html.haml within layouts/application (5.9ms)
Completed   in 544ms

ActionView::Template::Error (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
    21:    -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (40.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (164.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (176.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:26:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (50.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (17.3ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (20.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (8.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (8.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (13.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (61.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (43.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (7.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (6.4ms)
Completed   in 589ms

ActionView::Template::Error (You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block):
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
    21:   -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (38.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (73.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (86.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:29:05 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (65.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (15.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (8.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (33.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (61.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (11.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619948548_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619948548_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.6ms)
Completed   in 579ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:   
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (22.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (53.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (66.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:29:11 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (28.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (17.0ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (8.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.9ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (6.1ms)
Completed   in 466ms

ActionView::Template::Error (You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block):
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
    21:   -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (16.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (52.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (65.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:29:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/index.html.haml within layouts/application (3.3ms)
Completed   in 342ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %th and nested within it.):
    14:   %tr
    15:     %th –§–∏–ª—å–º
    16:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    17:       -@film_rentals.map do |fr|
    18:         %tr
    19:           %td=fr[0] 
    20:           %td=fr[1]
  app/views/rentals/index.html.haml:17
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:30:06 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.2ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (5.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (10.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (7.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (7.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.7ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (5.8ms)
Completed   in 383ms

ActionView::Template::Error (You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block):
    18:       %tr
    19:         %td=fr[0] 
    20:         %td=fr[1]
    21:       -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (14.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.1ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:30:15 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (9.8ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (8.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (7.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (7.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (8.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619004268_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619004268_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n", -1, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("    <tr>\n      <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n      <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n    </tr>\n", -1, false);
end;_hamlout.push_text("  </tr>\n</table>\n#{_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 358ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:       
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (16.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:30:37 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.7ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (7.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (7.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (7.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (3.3ms)
Completed   in 364ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %th and nested within it.):
    15:     %th –§–∏–ª—å–º
    16:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    17:     
    18:       %tr
    19:         %td=@film_rentals[0] 
    20:         %td=@film_rentals[1]
    21:       
  app/views/rentals/index.html.haml:18
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (17.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (53.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (66.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:30:52 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.6ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.3ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.6ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/index.html.haml within layouts/application (3.3ms)
Completed   in 365ms

ActionView::Template::Error (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    15:     %th –§–∏–ª—å–º
    16:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    17:     
    18:    %tr
    19:      %td=@film_rentals[0] 
    20:      %td=@film_rentals[1]
    21:       
  app/views/rentals/index.html.haml:18
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (19.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (121.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (152.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:31:04 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.2ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (9.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (7.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (8.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.9ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619322958_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619322958_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n  <tr>\n    <td>#{







_hamlout.format_script_false_true_false_true_false_true_false((@film_rentals[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@film_rentals[1]
));}</td>\n  </tr>\n</table>\n#{
_hamlout.adjust_tabs(-2); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.3ms)
Completed   in 351ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:       
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  [1m[35mRental Load (14.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:31:36 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.2ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (7.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (7.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619946838_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619946838_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n</table>\n", -3, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("<tr>\n  <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n  <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n</tr>\n", -1, false);
end;_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.9ms)
Completed   in 392ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:       
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (17.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:31:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.2ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (8.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.9ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.6ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (5.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (4.9ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620391988_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__620391988_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.4ms)
Completed   in 375ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:       
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (19.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (51.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (64.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:31:55 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (8.7ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/index.html.haml within layouts/application (6.0ms)
Completed   in 347ms

ActionView::Template::Error (You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block):
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
    21:   -end
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:21
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (15.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:32:06 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.8ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (5.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.7ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (5.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__620174358_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__620174358_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 366ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:   
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (17.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (47.2ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:32:24 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.6ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619026768_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619026768_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.each do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 345ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:   
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (15.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.9ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (60.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:32:34 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.6ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (9.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (8.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (5.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (5.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (5.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619777558_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619777558_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.5ms)
Completed   in 364ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:   
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[35mRental Load (15.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:36:15 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (8.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.8ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Completed   in 350ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  app/controllers/rentals_controller.rb:20:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (16.5ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (58.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:37:20 +0400 2011

SyntaxError (/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:20: syntax error, unexpected '|', expecting ']'
 x.map [|x| @film_rentals << [name, sum]]
         ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:20: syntax error, unexpected ']', expecting kEND
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:119: syntax error, unexpected $end, expecting kEND):
  

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:37:28 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (8.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (7.1ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 360ms

NameError (undefined local variable or method `x' for #<RentalsController:0xb61ee7fc>):
  app/controllers/rentals_controller.rb:20:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (37.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:37:35 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (7.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.7ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.8ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (8.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Completed   in 317ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  app/controllers/rentals_controller.rb:20:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (17.7ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (48.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (60.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:37:40 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.3ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (8.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Completed   in 324ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  app/controllers/rentals_controller.rb:20:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (14.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (133.7ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (145.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:37:47 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.2ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (6.9ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Completed   in 298ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  app/controllers/rentals_controller.rb:20:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[35mRental Load (15.6ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.4ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (57.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:38:04 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.0ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (9.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (5.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (6.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
ERROR: compiling _app_views_rentals_index_html_haml___431621396__619934398_0 RAISED compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file
Function body:           def _app_views_rentals_index_html_haml___431621396__619934398_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rentals/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil, :format=>:html5, :escape_html=>true, :attr_wrapper=>"'"});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>–î–Ω–∏ —Å–±–æ—Ä–∞</h1>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ</th>\n    <tr>\n      <td></td>\n      <td>#{








_hamlout.adjust_tabs(4); _hamlout.format_script_false_true_false_true_false_true_false((@rus_rental
));}</td>\n    </tr>\n  </tr>\n</table>\n<br>\n<table>\n  <tr>\n    <th>–§–∏–ª—å–º</th>\n    <th>–°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏</th>\n  </tr>\n", -2, false);





_hamlout.append_if_string= @film_rentals.map do |fr|;
_hamlout.push_text("  <tr>\n    <td>#{
_hamlout.adjust_tabs(2); _hamlout.format_script_false_true_false_true_false_true_false((fr[0]
));}</td>\n    <td>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((fr[1]
));}</td>\n  </tr>\n", -1, false);
end;_hamlout.push_text("</table>\n#{_hamlout.adjust_tabs(-1); _hamlout.format_script_false_false_false_true_false_true_false((paginate @rentals
));}\n<br>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24:in `compile'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:134:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:54:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/template.rb:127:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:59:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/haml/helpers/action_view_mods.rb:13:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:115:in `_render_template'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:93:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:40:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/controllers/rentals_controller.rb:27:in `index'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:150:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:18:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:441:in `_run__830307665__process_action__199225275__callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:94:in `run_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/notifications.rb:52:in `instrument'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/base.rb:119:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/abstract_controller/rendering.rb:41:in `process'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:138:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_controller/metal.rb:178:in `action'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/routing/route_set.rb:493:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/haml-3.0.25/lib/sass/plugin/rack.rb:41:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/methodoverride.rb:24:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:32:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:12:in `cache'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/query_cache.rb:31:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activerecord-3.0.6/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/sendfile.rb:107:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/logger.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/runtime.rb:17:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/activesupport-3.0.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `synchronize'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/lock.rb:11:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:168:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `send'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/application.rb:77:in `method_missing'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/rack/log_tailer.rb:14:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/local/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/handler/webrick.rb:13:in `run'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/rack-1.2.2/lib/rack/server.rb:213:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands/server.rb:65:in `start'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:30
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27:in `tap'
/usr/local/rvm/gems/ruby-1.8.7-p302/gems/railties-3.0.6/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rentals/index.html.haml within layouts/application (8.7ms)
Completed   in 369ms

ActionView::Template::Error (compile error
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
...–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
                              ^
/mnt/storage1/users/d/ds/dsi6/public_html/html/filmbase/app/views/rentals/index.html.haml:24: unterminated string meets end of file):
    21:   
    22: =paginate @rentals
    23: %br
    24: = link_to '–ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤', films_pathCouldn't find Film without an ID
  app/views/rentals/index.html.haml:24:in `compile'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (15.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (58.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:38:29 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (10.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.3ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (8.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (6.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (6.9ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
Rendered rentals/index.html.haml within layouts/application (8.1ms)
Completed   in 397ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map):
    14:   %tr
    15:     %th –§–∏–ª—å–º
    16:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    17:   -@film_rentals.map do |fr|    
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
  app/views/rentals/index.html.haml:17:in `_app_views_rentals_index_html_haml___431621396__620393388_0'
  app/controllers/rentals_controller.rb:27:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (96.9ms)
  [1m[35mRental Load (14.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.8ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (154.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:42:21 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.8ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (8.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (9.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (8.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (6.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
Rendered rentals/index.html.haml within layouts/application (8.4ms)
Completed   in 388ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map):
    14:   %tr
    15:     %th –§–∏–ª—å–º
    16:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –†–æ—Å—Å–∏–∏
    17:   -@film_rentals.map do |fr|    
    18:     %tr
    19:       %td=fr[0] 
    20:       %td=fr[1]
  app/views/rentals/index.html.haml:17:in `_app_views_rentals_index_html_haml___431621396__619520378_0'
  app/controllers/rentals_controller.rb:30:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  [1m[36mRental Load (15.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.0ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (59.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:42:33 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (6.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.8ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (5.9ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (8.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (5.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (6.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.9ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (7.1ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[36mGenre Load (21.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (160.7ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/index.html.haml within layouts/application (281.7ms)
Completed 200 OK in 645ms (Views: 277.1ms | ActiveRecord: 99.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:43:41 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (7.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (7.4ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (7.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (5.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (5.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (6.3ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 345ms

NameError (undefined local variable or method `sum_all' for #<RentalsController:0xb6084c04>):
  app/controllers/rentals_controller.rb:18:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (36.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:43:52 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (8.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (7.4ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (6.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (6.4ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (6.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
Completed   in 297ms

NoMethodError (undefined method `sum' for #<BoxOffice:0xb63de83c>):
  app/controllers/rentals_controller.rb:18:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mRental Load (14.9ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.6ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (58.2ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:44:49 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (8.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (6.6ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (8.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (6.6ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (6.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (6.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at[0m
Completed   in 344ms

NoMethodError (undefined method `sum_all' for #<ActiveRecord::Relation:0xb6273984>):
  app/controllers/rentals_controller.rb:18:in `index'
  app/controllers/rentals_controller.rb:16:in `index'

Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  [1m[35mRental Load (14.2ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.5ms)
Rendered /usr/local/rvm/gems/ruby-1.8.7-p302/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (57.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 16:44:54 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (6.5ms)[0m  SELECT "films".* FROM "films"
  [1m[36mRental Load (5.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1[0m
  [1m[35mSQL (7.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (5.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (5.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mFilm Load (11.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (5.9ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (5.1ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (6.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (11.6ms)
  [1m[35mGenre Load (15.1ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (155.4ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered rentals/index.html.haml within layouts/application (273.3ms)
Completed 200 OK in 645ms (Views: 279.8ms | ActiveRecord: 144.2ms)


Started GET "/" for 127.0.0.1 at Mon Jun 20 17:48:52 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[36mFilm Load (0.9ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (34.9ms)
Rendered films/_film.html.haml (8.2ms)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (8.7ms)
Rendered layouts/_menu.haml (12.3ms)
  [1m[36mGenre Load (1.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (68.7ms)
Rendered layouts/_footer.haml (3.8ms)
Rendered films/index.html.haml within layouts/application (192.1ms)
Completed 200 OK in 373ms (Views: 199.1ms | ActiveRecord: 2.7ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 17:48:55 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films"[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" IN (1, 2) AND "rentals"."country_id" = 170 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mCACHE (0.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (9.8ms)
Rendered layouts/_menu.haml (6.3ms)
  [1m[36mGenre Load (2.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (81.0ms)
Rendered layouts/_footer.haml (3.9ms)
Rendered rentals/index.html.haml within layouts/application (166.3ms)
Completed 200 OK in 397ms (Views: 176.2ms | ActiveRecord: 8.4ms)
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" LIMIT 1
  [1m[36mRental Load (0.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" LIMIT 1
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1)
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" ORDER BY films.id DESC LIMIT 1[0m
  [1m[35mRental Load (0.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2)
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 1[0m
  [1m[35mRental Load (0.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mBoxOffice Load (0.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE ("box_offices".rental_id = 1) ORDER BY created_at[0m


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:12:05 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mFilm Load (1.2ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 142ms

NameError (undefined local variable or method `box_office' for #<RentalsController:0xb70ba0d8>):
  app/controllers/rentals_controller.rb:25:in `index'
  app/controllers/rentals_controller.rb:22:in `index'
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (24.2ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.9ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:12:24 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
Completed   in 133ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:122:in `box_offices'
  app/controllers/rentals_controller.rb:24:in `index'
  app/controllers/rentals_controller.rb:22:in `index'
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  [1m[35mRental Load (0.7ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (84.4ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (93.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:13:03 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
Completed   in 132ms

ActiveRecord::RecordNotFound (Couldn't find Film without an ID):
  app/controllers/rentals_controller.rb:122:in `box_offices'
  app/controllers/rentals_controller.rb:24:in `index'
  app/controllers/rentals_controller.rb:22:in `index'
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  [1m[35mRental Load (0.8ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (33.8ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (44.4ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:14:01 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Completed   in 199ms

NameError (undefined local variable or method `box_offices' for #<RentalsController:0xb6ec0368>):
  app/controllers/rentals_controller.rb:24:in `index'
  app/controllers/rentals_controller.rb:22:in `index'
  app/controllers/rentals_controller.rb:11:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.4ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (34.6ms)
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" LIMIT 1
  [1m[36mRental Load (1.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" LIMIT 1
  [1m[36mRental Load (0.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mBoxOffice Load (0.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE ("box_offices".rental_id = 1) ORDER BY created_at


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:15:01 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mSQL (1.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (0.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)
Rendered rentals/index.html.haml within layouts/application (2.6ms)
Completed   in 226ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    6:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ
    7:     -if @world_rentals.size != 0
    8:       @world_rentals.map do |wr|
    9:         %tr
    10:           %td
    11:             =wr[0]
    12:           %td
  app/views/rentals/index.html.haml:9
  app/controllers/rentals_controller.rb:38:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  [1m[36mRental Load (0.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (31.5ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (40.1ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:16:12 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.8ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
Rendered rentals/index.html.haml within layouts/application (3.0ms)
Completed   in 233ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    6:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ    
    7:   -if @world_rentals.size != 0
    8:     @world_rentals.map do |wr|
    9:       %tr
    10:         %td
    11:           =wr[0]
    12:         %td
  app/views/rentals/index.html.haml:9
  app/controllers/rentals_controller.rb:38:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  [1m[35mRental Load (0.9ms)[0m  SELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (31.7ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (40.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:18:51 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (3.0ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (0.5ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)
Rendered rentals/index.html.haml within layouts/application (2.9ms)
Completed   in 250ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    6:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ    
    7:   -if @world_rentals.size != 0
    8:     @world_rentals.map do |wr|
    9:       %tr
    10:         %td
    11:           =wr[0]
    12:         %td
  app/views/rentals/index.html.haml:9
  app/controllers/rentals_controller.rb:38:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  [1m[36mRental Load (0.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (30.1ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (42.1ms)


Started GET "/" for 127.0.0.1 at Mon Jun 20 18:19:08 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mFilm Load (0.9ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (33.4ms)
Rendered films/_film.html.haml (8.5ms)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (8.1ms)
Rendered layouts/_menu.haml (10.6ms)
  [1m[35mGenre Load (0.8ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (60.5ms)
Rendered layouts/_footer.haml (2.1ms)
Rendered films/index.html.haml within layouts/application (178.9ms)
Completed 200 OK in 287ms (Views: 186.2ms | ActiveRecord: 2.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:19:10 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mFilm Load (1.0ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (1.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)
Rendered rentals/index.html.haml within layouts/application (2.5ms)
Completed   in 162ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    6:     %th –°–±–æ—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é –≤ –º–∏—Ä–µ    
    7:   -if @world_rentals.size != 0
    8:     @world_rentals.map do |wr|
    9:       %tr
    10:         %td
    11:           =wr[0]
    12:         %td
  app/views/rentals/index.html.haml:9
  app/controllers/rentals_controller.rb:38:in `index'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  [1m[36mRental Load (0.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" LIMIT 25 OFFSET 0[0m
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (92.3ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (101.5ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:19:21 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mFilm Load (0.7ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (7.1ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (2.7ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (9.6ms)
Rendered layouts/_menu.haml (15.2ms)
  [1m[36mGenre Load (1.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (66.4ms)
Rendered layouts/_footer.haml (2.6ms)
Rendered rentals/index.html.haml within layouts/application (166.8ms)
Completed 200 OK in 447ms (Views: 229.7ms | ActiveRecord: 15.9ms)


Started GET "/films" for 127.0.0.1 at Mon Jun 20 18:19:36 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mFilm Load (1.0ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (27.5ms)
Rendered films/_film.html.haml (7.0ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (9.2ms)
Rendered layouts/_menu.haml (11.2ms)
  [1m[35mGenre Load (1.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (124.6ms)
Rendered layouts/_footer.haml (3.3ms)
Rendered films/index.html.haml within layouts/application (243.1ms)
Completed 200 OK in 294ms (Views: 250.1ms | ActiveRecord: 2.5ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 18:19:38 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (0.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (0.8ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (0.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (0.7ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 1)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)
  [1m[36mCountry Load (0.8ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170
  [1m[36mBoxOffice Load (3.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (2)
Rendered people/_person.html.haml (7.4ms)
Rendered people/_person.html.haml (8.2ms)
Rendered layouts/_tray.haml (8.5ms)
Rendered layouts/_menu.haml (12.2ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (37.4ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered films/show.html.haml within layouts/application (171.5ms)
Completed 200 OK in 541ms (Views: 182.6ms | ActiveRecord: 10.5ms)


Started GET "/films" for 127.0.0.1 at Mon Jun 20 18:19:45 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mFilm Load (0.8ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (31.1ms)
Rendered films/_film.html.haml (8.9ms)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (13.1ms)
  [1m[35mGenre Load (1.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (61.7ms)
Rendered layouts/_footer.haml (4.6ms)
Rendered films/index.html.haml within layouts/application (183.8ms)
Completed 200 OK in 294ms (Views: 191.1ms | ActiveRecord: 2.2ms)


Started GET "/films/2" for 127.0.0.1 at Mon Jun 20 18:19:47 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mGenre Load (0.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)
  [1m[36mCountry Load (0.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (0.6ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (0.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
  [1m[35mCountry Load (0.5ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 170[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
  [1m[36mCountry Load (0.5ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name[0m
  [1m[35mRental Load (0.2ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 194
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
Rendered people/_person.html.haml (7.8ms)
Rendered people/_person.html.haml (11.7ms)
Rendered layouts/_tray.haml (10.2ms)
Rendered layouts/_menu.haml (10.9ms)
  [1m[35mGenre Load (1.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (40.8ms)
Rendered layouts/_footer.haml (6.4ms)
Rendered films/show.html.haml within layouts/application (164.4ms)
Completed 200 OK in 510ms (Views: 173.1ms | ActiveRecord: 5.7ms)


Started GET "/films/2/rentals" for 127.0.0.1 at Mon Jun 20 18:19:52 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"2"}
  [1m[36mRental Load (1.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 LIMIT 25 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 2
Rendered layouts/_tray.haml (12.1ms)
Rendered layouts/_menu.haml (13.4ms)
  [1m[36mGenre Load (2.9ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (195.3ms)
Rendered layouts/_footer.haml (4.8ms)
Rendered films/rentals.html.haml within layouts/application (305.1ms)
Completed 200 OK in 344ms (Views: 314.4ms | ActiveRecord: 4.4ms)


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:19:57 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
Rendered rentals/box_offices.html.haml within layouts/application (10.8ms)
Completed   in 21ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: %h1=@film.name 
    2: 
    3: %table
    4:   %tr
  app/views/rentals/box_offices.html.haml:1:in `_app_views_rentals_box_offices_html_haml___985653981__613190038_0'

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (16.4ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (25.6ms)


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:20:25 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.3ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (2.8ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (1.0ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
Rendered layouts/_tray.haml (9.1ms)
Rendered layouts/_menu.haml (16.4ms)
  [1m[35mGenre Load (1.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (35.9ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/box_offices.html.haml within layouts/application (171.5ms)
Completed 200 OK in 547ms (Views: 181.7ms | ActiveRecord: 7.1ms)


Started GET "/login" for 127.0.0.1 at Mon Jun 20 18:20:30 +0400 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_tray.haml (12.9ms)
Rendered layouts/_menu.haml (18.1ms)
  [1m[36mGenre Load (1.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (174.5ms)
Rendered layouts/_footer.haml (3.8ms)
Rendered sessions/new.haml within layouts/application (519.2ms)
Completed 200 OK in 534ms (Views: 531.5ms | ActiveRecord: 1.8ms)


Started POST "/session" for 127.0.0.1 at Mon Jun 20 18:20:34 +0400 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"–í–æ–π—Ç–∏", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "password"=>"[FILTERED]", "login"=>"admin"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 52ms


Started GET "/" for 127.0.0.1 at Mon Jun 20 18:20:34 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.7ms)[0m  SELECT "films".* FROM "films" LIMIT 25 OFFSET 0
Rendered films/_film.html.haml (32.0ms)
Rendered films/_film.html.haml (8.8ms)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT COUNT(*) FROM "films"[0m
Rendered layouts/_tray.haml (7.2ms)
Rendered layouts/_menu.haml (16.2ms)
  [1m[35mGenre Load (1.7ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (63.8ms)
Rendered layouts/_footer.haml (2.4ms)
Rendered films/index.html.haml within layouts/application (190.1ms)
Completed 200 OK in 358ms (Views: 196.6ms | ActiveRecord: 3.7ms)


Started GET "/films/2" for 127.0.0.1 at Mon Jun 20 18:20:37 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.4ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (2.8ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (0.7ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
  [1m[36mCountry Load (0.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (4.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 170
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (0.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 194[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
Rendered people/_person.html.haml (13.9ms)
Rendered people/_person.html.haml (13.1ms)
Rendered layouts/_tray.haml (9.9ms)
Rendered layouts/_menu.haml (22.5ms)
  [1m[36mGenre Load (1.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (52.7ms)
Rendered layouts/_footer.haml (6.5ms)
Rendered films/show.html.haml within layouts/application (227.1ms)
Completed 200 OK in 604ms (Views: 238.5ms | ActiveRecord: 12.6ms)


Started GET "/films/2/rentals" for 127.0.0.1 at Mon Jun 20 18:20:41 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (4.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 LIMIT 25 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 2
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (14.3ms)
  [1m[36mGenre Load (0.8ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.0ms)
Rendered layouts/_footer.haml (3.7ms)
Rendered films/rentals.html.haml within layouts/application (156.5ms)
Completed 200 OK in 259ms (Views: 164.0ms | ActiveRecord: 5.5ms)


Started GET "/films/2/new_rental" for 127.0.0.1 at Mon Jun 20 18:20:43 +0400 2011
  Processing by FilmsController#new_rental as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (2.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (22.2ms)[0m  SELECT "countries".* FROM "countries" ORDER BY name
Rendered layouts/_tray.haml (10.0ms)
Rendered layouts/_menu.haml (15.9ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (122.0ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/new_rental.html.haml within layouts/application (421.7ms)
Completed 200 OK in 617ms (Views: 409.6ms | ActiveRecord: 26.5ms)


Started POST "/rentals" for 127.0.0.1 at Mon Jun 20 18:21:02 +0400 2011
  Processing by RentalsController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "rental"=>{"film_id"=>"2", "data_start(1i)"=>"2011", "data_start(2i)"=>"6", "data_start(3i)"=>"20", "country_id"=>"170", "data_finish(1i)"=>"2011", "data_finish(2i)"=>"12", "data_finish(3i)"=>"29"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (0.2ms)[0m  [1mSELECT "rentals"."id" FROM "rentals" WHERE "rentals"."film_id" = 2 AND ("rentals"."country_id" = 170) LIMIT 1[0m
  [1m[35mAREL (5.7ms)[0m  INSERT INTO "rentals" ("data_finish", "country_id", "film_id", "created_at", "updated_at", "data_start") VALUES ('2011-12-29', 170, 2, '2011-06-20 14:21:02.409722', '2011-06-20 14:21:02.409722', '2011-06-20')
Redirected to http://localhost:3000/films/2/rentals
Completed 302 Found in 158ms


Started GET "/films/2/rentals" for 127.0.0.1 at Mon Jun 20 18:21:02 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 2[0m
Rendered layouts/_tray.haml (9.0ms)
Rendered layouts/_menu.haml (22.2ms)
  [1m[35mGenre Load (1.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (75.4ms)
Rendered layouts/_footer.haml (2.7ms)
Rendered films/rentals.html.haml within layouts/application (385.0ms)
Completed 200 OK in 489ms (Views: 391.6ms | ActiveRecord: 3.6ms)


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:21:08 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (2.3ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.6ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (2.0ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (0.7ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.1ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)[0m
Rendered layouts/_tray.haml (15.1ms)
Rendered layouts/_menu.haml (17.3ms)
  [1m[35mGenre Load (1.3ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (57.5ms)
Rendered layouts/_footer.haml (3.5ms)
Rendered rentals/box_offices.html.haml within layouts/application (184.2ms)
Completed 200 OK in 561ms (Views: 196.8ms | ActiveRecord: 8.4ms)


Started GET "/rentals/2/new_box_office" for 127.0.0.1 at Mon Jun 20 18:21:10 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (0.8ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (16.7ms)
  [1m[36mGenre Load (1.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.9ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered rentals/new_box_office.html.haml within layouts/application (150.1ms)
Completed 200 OK in 486ms (Views: 160.0ms | ActiveRecord: 3.3ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 18:21:22 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"3", "sum_all"=>"10000"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (0.2ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 3 AND ("box_offices"."number_week" = 1) LIMIT 1[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "box_offices" ("rental_id", "number_week", "updated_at", "sum_all", "created_at") VALUES (3, 1, '2011-06-20 14:21:22.705612', 10000, '2011-06-20 14:21:22.705612')
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mFilm Load (2.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/rentals/2/box_offices
Completed 302 Found in 317ms


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:21:22 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.3ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (1.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (0.3ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (2.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)[0m
Rendered layouts/_tray.haml (5.6ms)
Rendered layouts/_menu.haml (13.8ms)
  [1m[35mGenre Load (1.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.5ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/box_offices.html.haml within layouts/application (144.7ms)
Completed 200 OK in 484ms (Views: 149.6ms | ActiveRecord: 8.4ms)


Started GET "/rentals/2/new_box_office" for 127.0.0.1 at Mon Jun 20 18:21:26 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Rendered layouts/_tray.haml (8.4ms)
Rendered layouts/_menu.haml (14.1ms)
  [1m[36mGenre Load (1.4ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.2ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/new_box_office.html.haml within layouts/application (147.5ms)
Completed 200 OK in 397ms (Views: 158.5ms | ActiveRecord: 3.0ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 18:21:38 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"2", "rental_id"=>"3", "sum_all"=>"20000"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (0.2ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 3 AND ("box_offices"."number_week" = 2) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "box_offices" ("rental_id", "sum_all", "updated_at", "number_week", "created_at") VALUES (3, 20000, '2011-06-20 14:21:39.034050', 2, '2011-06-20 14:21:39.034050')
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mFilm Load (0.8ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/rentals/2/box_offices
Completed 302 Found in 301ms


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:21:39 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.4ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.3ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (5.5ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (5.5ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (5.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)[0m
Rendered layouts/_tray.haml (8.4ms)
Rendered layouts/_menu.haml (15.1ms)
  [1m[35mGenre Load (3.9ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (37.2ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/box_offices.html.haml within layouts/application (259.6ms)
Completed 200 OK in 712ms (Views: 258.6ms | ActiveRecord: 33.3ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:21:42 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.9ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (4.0ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (3.9ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 2) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (4.2ms)
Rendered layouts/_menu.haml (12.7ms)
  [1m[36mGenre Load (1.3ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (61.7ms)
Rendered layouts/_footer.haml (3.2ms)
Rendered rentals/index.html.haml within layouts/application (152.7ms)
Completed 200 OK in 589ms (Views: 165.5ms | ActiveRecord: 16.7ms)


Started GET "/films" for 127.0.0.1 at Mon Jun 20 18:22:01 +0400 2011
  Processing by FilmsController#index as HTML
  [1m[35mUser Load (3.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films" LIMIT 25 OFFSET 0[0m
Rendered films/_film.html.haml (30.0ms)
Rendered films/_film.html.haml (8.7ms)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "films"
Rendered layouts/_tray.haml (7.3ms)
Rendered layouts/_menu.haml (72.7ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (64.9ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/index.html.haml within layouts/application (239.8ms)
Completed 200 OK in 330ms (Views: 248.3ms | ActiveRecord: 7.2ms)


Started GET "/films/2" for 127.0.0.1 at Mon Jun 20 18:22:03 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (0.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mGenre Load (0.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (0.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (0.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 2)[0m
  [1m[35mBoxOffice Load (1.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)
  [1m[36mCountry Load (0.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 170
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (0.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 194[0m
  [1m[35mBoxOffice Load (0.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
Rendered people/_person.html.haml (8.7ms)
Rendered people/_person.html.haml (9.5ms)
Rendered layouts/_tray.haml (7.8ms)
Rendered layouts/_menu.haml (16.6ms)
  [1m[36mGenre Load (0.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (34.2ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered films/show.html.haml within layouts/application (159.8ms)
Completed 200 OK in 576ms (Views: 168.6ms | ActiveRecord: 6.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:22:10 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)
  [1m[36mRental Load (0.3ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mSQL (1.3ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.8ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)
  [1m[36mRental Load (0.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mBoxOffice Load (0.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1
  [1m[36mRental Load (0.7ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 2) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (8.1ms)
Rendered layouts/_menu.haml (15.7ms)
  [1m[35mGenre Load (3.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (126.4ms)
Rendered layouts/_footer.haml (5.4ms)
Rendered rentals/index.html.haml within layouts/application (217.9ms)
Completed 200 OK in 530ms (Views: 226.4ms | ActiveRecord: 12.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:28:30 +0400 2011

SyntaxError (/home/nikolay/Downloads/filmbase (3)/app/controllers/rentals_controller.rb:21: syntax error, unexpected tSTRING_BEG, expecting '}'
                              "filmid" =>  film_id
                               ^
/home/nikolay/Downloads/filmbase (3)/app/controllers/rentals_controller.rb:21: syntax error, unexpected tASSOC, expecting kEND
                              "filmid" =>  film_id
                                         ^
/home/nikolay/Downloads/filmbase (3)/app/controllers/rentals_controller.rb:35: syntax error, unexpected tSTRING_BEG, expecting '}'
                                   "filmid" =>  film_id
                                    ^
/home/nikolay/Downloads/filmbase (3)/app/controllers/rentals_controller.rb:35: syntax error, unexpected tASSOC, expecting kEND
                                   "filmid" =>  film_id
                                              ^
/home/nikolay/Downloads/filmbase (3)/app/controllers/rentals_controller.rb:137: syntax error, unexpected $end, expecting kEND):
  

Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /usr/lib/ruby/gems/1.8/gems/actionpack-3.0.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.8ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:28:48 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (2.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (3.1ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2) LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 2) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mCACHE (0.8ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "rentals"
Rendered layouts/_tray.haml (8.1ms)
Rendered layouts/_menu.haml (15.1ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (121.4ms)
Rendered layouts/_footer.haml (3.5ms)
Rendered rentals/index.html.haml within layouts/application (215.3ms)
Completed 200 OK in 548ms (Views: 223.3ms | ActiveRecord: 15.0ms)


Started GET "/films/1" for 127.0.0.1 at Mon Jun 20 18:28:52 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 1 LIMIT 1[0m
  [1m[35mGenre Load (0.3ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 1)
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (3.4ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (1.4ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 1) ORDER BY name[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 1)[0m
  [1m[35mBoxOffice Load (0.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1, 2)
  [1m[36mCountry Load (0.6ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 170
  [1m[36mBoxOffice Load (0.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (1)[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (0.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 1 AND "rentals"."country_id" = 194[0m
  [1m[35mBoxOffice Load (0.4ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (2)
Rendered people/_person.html.haml (7.9ms)
Rendered people/_person.html.haml (7.4ms)
Rendered layouts/_tray.haml (10.1ms)
Rendered layouts/_menu.haml (14.0ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (34.8ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered films/show.html.haml within layouts/application (163.7ms)
Completed 200 OK in 585ms (Views: 172.1ms | ActiveRecord: 11.8ms)


Started GET "/films/2" for 127.0.0.1 at Mon Jun 20 18:28:59 +0400 2011
  Processing by FilmsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (0.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mGenre Load (0.4ms)[0m  SELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)
  [1m[36mCountry Load (0.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)[0m
  [1m[35mPerson Load (0.5ms)[0m  SELECT "people".* FROM "people" WHERE ("people"."id" = 1)
  [1m[36mPerson Load (0.7ms)[0m  [1mSELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name[0m
  [1m[35mRental Load (0.5ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mFilm Load (0.6ms)[0m  [1mSELECT "films".* FROM "films" WHERE ("films"."id" = 2)[0m
  [1m[35mBoxOffice Load (0.7ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)
  [1m[36mCountry Load (0.7ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."name" = '–†–æ—Å—Å–∏—è' ORDER BY name[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 170
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3)[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."name" = '–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã' ORDER BY name
  [1m[36mRental Load (0.2ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 AND "rentals"."country_id" = 194[0m
  [1m[35mBoxOffice Load (0.2ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (NULL)
Rendered people/_person.html.haml (6.7ms)
Rendered people/_person.html.haml (7.4ms)
Rendered layouts/_tray.haml (9.0ms)
Rendered layouts/_menu.haml (13.9ms)
  [1m[36mGenre Load (1.2ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (35.2ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered films/show.html.haml within layouts/application (162.8ms)
Completed 200 OK in 585ms (Views: 172.9ms | ActiveRecord: 7.6ms)


Started GET "/films/2/rentals" for 127.0.0.1 at Mon Jun 20 18:29:03 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 LIMIT 25 OFFSET 0[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  SELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 2
Rendered layouts/_tray.haml (9.1ms)
Rendered layouts/_menu.haml (15.9ms)
  [1m[36mGenre Load (0.5ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (65.9ms)
Rendered layouts/_footer.haml (2.3ms)
Rendered films/rentals.html.haml within layouts/application (329.6ms)
Completed 200 OK in 481ms (Views: 337.6ms | ActiveRecord: 2.9ms)


Started GET "/films/2/new_rental" for 127.0.0.1 at Mon Jun 20 18:29:05 +0400 2011
  Processing by FilmsController#new_rental as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mFilm Load (1.7ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1[0m
  [1m[35mCountry Load (15.6ms)[0m  SELECT "countries".* FROM "countries" ORDER BY name
Rendered layouts/_tray.haml (8.7ms)
Rendered layouts/_menu.haml (17.9ms)
  [1m[36mGenre Load (1.1ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (62.2ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered films/new_rental.html.haml within layouts/application (327.5ms)
Completed 200 OK in 576ms (Views: 320.8ms | ActiveRecord: 19.0ms)


Started POST "/rentals" for 127.0.0.1 at Mon Jun 20 18:29:11 +0400 2011
  Processing by RentalsController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "rental"=>{"film_id"=>"2", "data_start(1i)"=>"2011", "data_start(2i)"=>"6", "data_start(3i)"=>"20", "country_id"=>"1", "data_finish(1i)"=>"2011", "data_finish(2i)"=>"12", "data_finish(3i)"=>"20"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mRental Load (0.2ms)[0m  [1mSELECT "rentals"."id" FROM "rentals" WHERE "rentals"."film_id" = 2 AND ("rentals"."country_id" = 1) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "rentals" ("data_start", "film_id", "updated_at", "created_at", "country_id", "data_finish") VALUES ('2011-06-20', 2, '2011-06-20 14:29:11.877393', '2011-06-20 14:29:11.877393', 1, '2011-12-20')
Redirected to http://localhost:3000/films/2/rentals
Completed 302 Found in 145ms


Started GET "/films/2/rentals" for 127.0.0.1 at Mon Jun 20 18:29:11 +0400 2011
  Processing by FilmsController#rentals as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2 LIMIT 25 OFFSET 0
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCountry Load (0.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE "rentals"."film_id" = 2[0m
Rendered layouts/_tray.haml (8.3ms)
Rendered layouts/_menu.haml (20.4ms)
  [1m[35mGenre Load (4.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (66.8ms)
Rendered layouts/_footer.haml (3.7ms)
Rendered films/rentals.html.haml within layouts/application (352.3ms)
Completed 200 OK in 531ms (Views: 356.7ms | ActiveRecord: 7.6ms)


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:29:14 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.6ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (1.0ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4)[0m
Rendered layouts/_tray.haml (7.4ms)
Rendered layouts/_menu.haml (16.7ms)
  [1m[35mGenre Load (1.0ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.5ms)
Rendered layouts/_footer.haml (2.8ms)
Rendered rentals/box_offices.html.haml within layouts/application (153.3ms)
Completed 200 OK in 552ms (Views: 161.7ms | ActiveRecord: 6.6ms)


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:29:37 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.5ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (0.7ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.5ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (0.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (2.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4)[0m
Rendered layouts/_tray.haml (9.8ms)
Rendered layouts/_menu.haml (14.0ms)
  [1m[35mGenre Load (1.4ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.5ms)
Rendered layouts/_footer.haml (2.9ms)
Rendered rentals/box_offices.html.haml within layouts/application (151.3ms)
Completed 200 OK in 567ms (Views: 154.9ms | ActiveRecord: 10.1ms)


Started GET "/rentals/2/new_box_office" for 127.0.0.1 at Mon Jun 20 18:29:40 +0400 2011
  Processing by RentalsController#new_box_office as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1[0m
  [1m[35mFilm Load (0.6ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCountry Load (0.4ms)[0m  [1mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Rendered layouts/_tray.haml (9.0ms)
Rendered layouts/_menu.haml (15.9ms)
  [1m[36mGenre Load (2.6ms)[0m  [1mSELECT "genres".* FROM "genres" ORDER BY name[0m
Rendered layouts/_aside.haml (61.6ms)
Rendered layouts/_footer.haml (3.1ms)
Rendered rentals/new_box_office.html.haml within layouts/application (204.3ms)
Completed 200 OK in 469ms (Views: 210.6ms | ActiveRecord: 4.9ms)


Started POST "/box_offices" for 127.0.0.1 at Mon Jun 20 18:29:50 +0400 2011
  Processing by BoxOfficesController#create as HTML
  Parameters: {"commit"=>"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "authenticity_token"=>"n14HVnOoPRru8V/aH7QJQjdhNOfW2lrbGidC4MQ2Lp0=", "utf8"=>"‚úì", "box_office"=>{"number_week"=>"1", "rental_id"=>"4", "sum_all"=>"121212"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mBoxOffice Load (0.2ms)[0m  [1mSELECT "box_offices"."id" FROM "box_offices" WHERE "box_offices"."rental_id" = 4 AND ("box_offices"."number_week" = 1) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "box_offices" ("created_at", "rental_id", "number_week", "sum_all", "updated_at") VALUES ('2011-06-20 14:29:50.760638', 4, 1, 121212, '2011-06-20 14:29:50.760638')
  [1m[36mRental Load (1.6ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 4 LIMIT 1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
Redirected to http://localhost:3000/rentals/2/box_offices
Completed 302 Found in 364ms


Started GET "/rentals/2/box_offices" for 127.0.0.1 at Mon Jun 20 18:29:50 +0400 2011
  Processing by RentalsController#box_offices as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (1.7ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mGenre Load (0.5ms)[0m  [1mSELECT "genres".* FROM "genres" WHERE ("genres"."id" = 4)[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT "countries".* FROM "countries" WHERE ("countries"."id" = 194)
  [1m[36mPerson Load (0.6ms)[0m  [1mSELECT "people".* FROM "people" WHERE ("people"."id" = 1)[0m
  [1m[35mPerson Load (0.6ms)[0m  SELECT "people".*, t0.film_id as the_parent_record_id FROM "people" INNER JOIN "films_people" t0 ON "people".id = t0.person_id WHERE (t0.film_id = 2) ORDER BY name
  [1m[36mRental Load (3.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."film_id" = 2[0m
  [1m[35mBoxOffice Load (0.8ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4) ORDER BY number_week LIMIT 25 OFFSET 0
  [1m[36mRental Load (0.4ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mRental Load (0.5ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 4 LIMIT 1[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 1 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "countries".* FROM "countries" WHERE "countries"."id" = 170 ORDER BY name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "rentals".* FROM "rentals" WHERE "rentals"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "films".* FROM "films" WHERE "films"."id" = 2 LIMIT 1
  [1m[36mSQL (4.1ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE "box_offices"."rental_id" IN (3, 4)[0m
Rendered layouts/_tray.haml (7.9ms)
Rendered layouts/_menu.haml (13.4ms)
  [1m[35mGenre Load (2.6ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (33.3ms)
Rendered layouts/_footer.haml (3.0ms)
Rendered rentals/box_offices.html.haml within layouts/application (161.5ms)
Completed 200 OK in 524ms (Views: 162.1ms | ActiveRecord: 16.6ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:29:55 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.7ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (0.9ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (0.2ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.6ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 2) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 4)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 4)[0m
  [1m[35mBoxOffice Load (2.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 1 AND ("box_offices".rental_id = 4) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (8.1ms)
Rendered layouts/_menu.haml (15.4ms)
  [1m[35mGenre Load (1.2ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (61.2ms)
Rendered layouts/_footer.haml (2.4ms)
Rendered rentals/index.html.haml within layouts/application (154.0ms)
Completed 200 OK in 446ms (Views: 161.4ms | ActiveRecord: 14.0ms)


Started GET "/rentals" for 127.0.0.1 at Mon Jun 20 18:32:44 +0400 2011
  Processing by RentalsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mFilm Load (0.7ms)[0m  SELECT "films".* FROM "films" WHERE ("films"."id" >= 0) ORDER BY films.id ASC LIMIT 1000
  [1m[36mSQL (3.1ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 1)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mBoxOffice Load (0.4ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 1) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 11 AND ("box_offices".rental_id = 1) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 2)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 2)[0m
  [1m[35mBoxOffice Load (0.9ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 7 AND ("box_offices".rental_id = 2) ORDER BY created_at LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "rentals" WHERE ("rentals".film_id = 2)[0m
  [1m[35mRental Load (0.3ms)[0m  SELECT "rentals".* FROM "rentals" WHERE "rentals"."country_id" = 170 AND ("rentals".film_id = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mBoxOffice Load (0.3ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mRental Load (0.4ms)[0m  SELECT "rentals".* FROM "rentals" WHERE ("rentals".film_id = 2) AND ("rentals"."id" >= 0) ORDER BY rentals.id ASC LIMIT 1000
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 3)[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 2 AND ("box_offices".rental_id = 3) ORDER BY created_at LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "box_offices" WHERE ("box_offices".rental_id = 4)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT MAX("box_offices"."number_week") AS max_id FROM "box_offices" WHERE ("box_offices".rental_id = 4)[0m
  [1m[35mBoxOffice Load (0.3ms)[0m  SELECT "box_offices".* FROM "box_offices" WHERE "box_offices"."number_week" = 1 AND ("box_offices".rental_id = 4) ORDER BY created_at LIMIT 1
  [1m[36mSQL (8.2ms)[0m  [1mSELECT COUNT(*) FROM "rentals"[0m
Rendered layouts/_tray.haml (8.7ms)
Rendered layouts/_menu.haml (16.9ms)
  [1m[35mGenre Load (1.9ms)[0m  SELECT "genres".* FROM "genres" ORDER BY name
Rendered layouts/_aside.haml (87.5ms)
Rendered layouts/_footer.haml (7.6ms)
Rendered rentals/index.html.haml within layouts/application (247.5ms)
Completed 200 OK in 640ms (Views: 248.3ms | ActiveRecord: 21.0ms)
